{"parents": [{"link": "../", "title": "All classes"}], "prev": {"link": "../class_uniformsetcacherd/", "title": "UniformSetCacheRD"}, "next": {"link": "../class_upnpdevice/", "title": "UPNPDevice"}, "title": "UPNP", "meta": {"github_url": "hide"}, "body": "<section id=\"upnp\">\n<span id=\"class-upnp\"></span><h1>UPNP<a class=\"headerlink\" href=\"#upnp\" title=\"Link to this heading\">\uf0c1</a></h1>\n<p><strong>Inherits:</strong> <a class=\"reference internal\" href=\"../class_refcounted/#class-refcounted\"><span class=\"std std-ref\">RefCounted</span></a> <strong>&lt;</strong> <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a></p>\n<p>Universal Plug and Play (UPnP) functions for network device discovery, querying and port forwarding.</p>\n<section class=\"classref-introduction-group\" id=\"description\">\n<h2>Description<a class=\"headerlink\" href=\"#description\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p>This class can be used to discover compatible <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>s on the local network and execute commands on them, like managing port mappings (for port forwarding/NAT traversal) and querying the local and remote network IP address. Note that methods on this class are synchronous and block the calling thread.</p>\n<p>To forward a specific port (here <code class=\"docutils literal notranslate\"><span class=\"pre\">7777</span></code>, note both <a class=\"reference internal\" href=\"#class-upnp-method-discover\"><span class=\"std std-ref\">discover()</span></a> and <a class=\"reference internal\" href=\"#class-upnp-method-add-port-mapping\"><span class=\"std std-ref\">add_port_mapping()</span></a> can return errors that should be checked):</p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">upnp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">UPNP</span><span class=\"o\">.</span><span class=\"nf\">new</span><span class=\"p\">()</span>\n<span class=\"n\">upnp</span><span class=\"o\">.</span><span class=\"nf\">discover</span><span class=\"p\">()</span>\n<span class=\"n\">upnp</span><span class=\"o\">.</span><span class=\"nf\">add_port_mapping</span><span class=\"p\">(</span><span class=\"mi\">7777</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>To close a specific port (e.g. after you have finished using it):</p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">upnp</span><span class=\"o\">.</span><span class=\"nf\">delete_port_mapping</span><span class=\"p\">(</span><span class=\"n\">port</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p><strong>Note:</strong> UPnP discovery blocks the current thread. To perform discovery without blocking the main thread, use <a class=\"reference internal\" href=\"../class_thread/#class-thread\"><span class=\"std std-ref\">Thread</span></a>s like this:</p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Emitted when UPnP port mapping setup is completed (regardless of success or failure).</span>\n<span class=\"k\">signal</span><span class=\"w\"> </span><span class=\"nf\">upnp_completed</span><span class=\"p\">(</span><span class=\"n\">error</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># Replace this with your own server port number between 1024 and 65535.</span>\n<span class=\"k\">const</span><span class=\"w\"> </span><span class=\"n\">SERVER_PORT</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">3928</span>\n<span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"l\">null</span>\n\n<span class=\"k\">func</span><span class=\"w\"> </span><span class=\"nf nf-Declaration\">_upnp_setup</span><span class=\"p\">(</span><span class=\"n\">server_port</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"c1\"># UPNP queries take some time.</span>\n<span class=\"w\">    </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">upnp</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">UPNP</span><span class=\"o\">.</span><span class=\"nf\">new</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">err</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">upnp</span><span class=\"o\">.</span><span class=\"nf\">discover</span><span class=\"p\">()</span>\n\n<span class=\"w\">    </span><span class=\"k k-ControlFlow\">if</span><span class=\"w\"> </span><span class=\"n\">err</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"n\">OK</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nb nb-Function\">push_error</span><span class=\"p\">(</span><span class=\"nb nb-Function\">str</span><span class=\"p\">(</span><span class=\"n\">err</span><span class=\"p\">))</span>\n<span class=\"w\">        </span><span class=\"n\">upnp_completed</span><span class=\"o\">.</span><span class=\"nf\">emit</span><span class=\"p\">(</span><span class=\"n\">err</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"k k-ControlFlow\">return</span>\n\n<span class=\"w\">    </span><span class=\"k k-ControlFlow\">if</span><span class=\"w\"> </span><span class=\"n\">upnp</span><span class=\"o\">.</span><span class=\"nf\">get_gateway</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"ow\">and</span><span class=\"w\"> </span><span class=\"n\">upnp</span><span class=\"o\">.</span><span class=\"nf\">get_gateway</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"nf\">is_valid_gateway</span><span class=\"p\">():</span>\n<span class=\"w\">        </span><span class=\"n\">upnp</span><span class=\"o\">.</span><span class=\"nf\">add_port_mapping</span><span class=\"p\">(</span><span class=\"n\">server_port</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">server_port</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nb\">ProjectSettings</span><span class=\"o\">.</span><span class=\"nf\">get_setting</span><span class=\"p\">(</span><span class=\"s2\">&quot;application/config/name&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"s2\">&quot;UDP&quot;</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"n\">upnp</span><span class=\"o\">.</span><span class=\"nf\">add_port_mapping</span><span class=\"p\">(</span><span class=\"n\">server_port</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">server_port</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nb\">ProjectSettings</span><span class=\"o\">.</span><span class=\"nf\">get_setting</span><span class=\"p\">(</span><span class=\"s2\">&quot;application/config/name&quot;</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"s2\">&quot;TCP&quot;</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"n\">upnp_completed</span><span class=\"o\">.</span><span class=\"nf\">emit</span><span class=\"p\">(</span><span class=\"n\">OK</span><span class=\"p\">)</span>\n\n<span class=\"k\">func</span><span class=\"w\"> </span><span class=\"nf nf-Declaration\">_ready</span><span class=\"p\">():</span>\n<span class=\"w\">    </span><span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">Thread</span><span class=\"o\">.</span><span class=\"nf\">new</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"n\">thread</span><span class=\"o\">.</span><span class=\"nf\">start</span><span class=\"p\">(</span><span class=\"n\">_upnp_setup</span><span class=\"o\">.</span><span class=\"nf\">bind</span><span class=\"p\">(</span><span class=\"n\">SERVER_PORT</span><span class=\"p\">))</span>\n\n<span class=\"k\">func</span><span class=\"w\"> </span><span class=\"nf nf-Declaration\">_exit_tree</span><span class=\"p\">():</span>\n<span class=\"w\">    </span><span class=\"c1\"># Wait for thread finish here to handle game exit while the thread is running.</span>\n<span class=\"w\">    </span><span class=\"n\">thread</span><span class=\"o\">.</span><span class=\"nf\">wait_to_finish</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p><strong>Terminology:</strong> In the context of UPnP networking, &quot;gateway&quot; (or &quot;internet gateway device&quot;, short IGD) refers to network devices that allow computers in the local network to access the internet (&quot;wide area network&quot;, WAN). These gateways are often also called &quot;routers&quot;.</p>\n<p><strong>Pitfalls:</strong></p>\n<ul class=\"simple\">\n<li><p>As explained above, these calls are blocking and shouldn't be run on the main thread, especially as they can block for multiple seconds at a time. Use threading!</p></li>\n<li><p>Networking is physical and messy. Packets get lost in transit or get filtered, addresses, free ports and assigned mappings change, and devices may leave or join the network at any time. Be mindful of this, be diligent when checking and handling errors, and handle these gracefully if you can: add clear error UI, timeouts and re-try handling.</p></li>\n<li><p>Port mappings may change (and be removed) at any time, and the remote/external IP address of the gateway can change likewise. You should consider re-querying the external IP and try to update/refresh the port mapping periodically (for example, every 5 minutes and on networking failures).</p></li>\n<li><p>Not all devices support UPnP, and some users disable UPnP support. You need to handle this (e.g. documenting and requiring the user to manually forward ports, or adding alternative methods of NAT traversal, like a relay/mirror server, or NAT hole punching, STUN/TURN, etc.).</p></li>\n<li><p>Consider what happens on mapping conflicts. Maybe multiple users on the same network would like to play your game at the same time, or maybe another application uses the same port. Make the port configurable, and optimally choose a port automatically (re-trying with a different port on failure).</p></li>\n</ul>\n<p><strong>Further reading:</strong> If you want to know more about UPnP (and the Internet Gateway Device (IGD) and Port Control Protocol (PCP) specifically), <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Universal_Plug_and_Play\">Wikipedia</a> is a good first stop, the specification can be found at the <a class=\"reference external\" href=\"https://openconnectivity.org/developer/specifications/upnp-resources/upnp/\">Open Connectivity Foundation</a> and Godot's implementation is based on the <a class=\"reference external\" href=\"https://github.com/miniupnp/miniupnp\">MiniUPnP client</a>.</p>\n</section>\n<section class=\"classref-reftable-group\" id=\"properties\">\n<h2>Properties<a class=\"headerlink\" href=\"#properties\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-property-discover-ipv6\"><span class=\"std std-ref\">discover_ipv6</span></a></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">false</span></code></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-property-discover-local-port\"><span class=\"std std-ref\">discover_local_port</span></a></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-property-discover-multicast-if\"><span class=\"std std-ref\">discover_multicast_if</span></a></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;&quot;</span></code></p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<section class=\"classref-reftable-group\" id=\"methods\">\n<h2>Methods<a class=\"headerlink\" href=\"#methods\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-add-device\"><span class=\"std std-ref\">add_device</span></a>(device: <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-add-port-mapping\"><span class=\"std std-ref\">add_port_mapping</span></a>(port: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, port_internal: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 0, desc: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;&quot;, proto: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;UDP&quot;, duration: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 0) <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-clear-devices\"><span class=\"std std-ref\">clear_devices</span></a>()</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-delete-port-mapping\"><span class=\"std std-ref\">delete_port_mapping</span></a>(port: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, proto: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;UDP&quot;) <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-discover\"><span class=\"std std-ref\">discover</span></a>(timeout: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 2000, ttl: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 2, device_filter: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;InternetGatewayDevice&quot;)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-get-device\"><span class=\"std std-ref\">get_device</span></a>(index: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>) <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-get-device-count\"><span class=\"std std-ref\">get_device_count</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-get-gateway\"><span class=\"std std-ref\">get_gateway</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-query-external-address\"><span class=\"std std-ref\">query_external_address</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-remove-device\"><span class=\"std std-ref\">remove_device</span></a>(index: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-upnp-method-set-device\"><span class=\"std std-ref\">set_device</span></a>(index: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, device: <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>)</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"enumerations\">\n<h2>Enumerations<a class=\"headerlink\" href=\"#enumerations\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-enumeration\" id=\"enum-upnp-upnpresult\">enum <strong>UPNPResult</strong>: <a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-success\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_SUCCESS</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code></p>\n<p>UPNP command or discovery was successful.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-not-authorized\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_NOT_AUTHORIZED</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code></p>\n<p>Not authorized to use the command on the <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>. May be returned when the user disabled UPNP on their router.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-port-mapping-not-found\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_PORT_MAPPING_NOT_FOUND</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">2</span></code></p>\n<p>No port mapping was found for the given port, protocol combination on the given <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-inconsistent-parameters\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_INCONSISTENT_PARAMETERS</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">3</span></code></p>\n<p>Inconsistent parameters.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-no-such-entry-in-array\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_NO_SUCH_ENTRY_IN_ARRAY</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">4</span></code></p>\n<p>No such entry in array. May be returned if a given port, protocol combination is not found on a <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-action-failed\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_ACTION_FAILED</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">5</span></code></p>\n<p>The action failed.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-src-ip-wildcard-not-permitted\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_SRC_IP_WILDCARD_NOT_PERMITTED</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">6</span></code></p>\n<p>The <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a> does not allow wildcard values for the source IP address.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-ext-port-wildcard-not-permitted\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_EXT_PORT_WILDCARD_NOT_PERMITTED</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">7</span></code></p>\n<p>The <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a> does not allow wildcard values for the external port.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-int-port-wildcard-not-permitted\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_INT_PORT_WILDCARD_NOT_PERMITTED</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">8</span></code></p>\n<p>The <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a> does not allow wildcard values for the internal port.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-remote-host-must-be-wildcard\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_REMOTE_HOST_MUST_BE_WILDCARD</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">9</span></code></p>\n<p>The remote host value must be a wildcard.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-ext-port-must-be-wildcard\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_EXT_PORT_MUST_BE_WILDCARD</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">10</span></code></p>\n<p>The external port value must be a wildcard.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-no-port-maps-available\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_NO_PORT_MAPS_AVAILABLE</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">11</span></code></p>\n<p>No port maps are available. May also be returned if port mapping functionality is not available.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-conflict-with-other-mechanism\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_CONFLICT_WITH_OTHER_MECHANISM</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">12</span></code></p>\n<p>Conflict with other mechanism. May be returned instead of <a class=\"reference internal\" href=\"#class-upnp-constant-upnp-result-conflict-with-other-mapping\"><span class=\"std std-ref\">UPNP_RESULT_CONFLICT_WITH_OTHER_MAPPING</span></a> if a port mapping conflicts with an existing one.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-conflict-with-other-mapping\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_CONFLICT_WITH_OTHER_MAPPING</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">13</span></code></p>\n<p>Conflict with an existing port mapping.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-same-port-values-required\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_SAME_PORT_VALUES_REQUIRED</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">14</span></code></p>\n<p>External and internal port values must be the same.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-only-permanent-lease-supported\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_ONLY_PERMANENT_LEASE_SUPPORTED</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">15</span></code></p>\n<p>Only permanent leases are supported. Do not use the <code class=\"docutils literal notranslate\"><span class=\"pre\">duration</span></code> parameter when adding port mappings.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-invalid-gateway\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_INVALID_GATEWAY</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">16</span></code></p>\n<p>Invalid gateway.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-invalid-port\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_INVALID_PORT</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">17</span></code></p>\n<p>Invalid port.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-invalid-protocol\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_INVALID_PROTOCOL</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">18</span></code></p>\n<p>Invalid protocol.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-invalid-duration\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_INVALID_DURATION</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">19</span></code></p>\n<p>Invalid duration.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-invalid-args\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_INVALID_ARGS</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">20</span></code></p>\n<p>Invalid arguments.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-invalid-response\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_INVALID_RESPONSE</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">21</span></code></p>\n<p>Invalid response.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-invalid-param\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_INVALID_PARAM</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">22</span></code></p>\n<p>Invalid parameter.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-http-error\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_HTTP_ERROR</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">23</span></code></p>\n<p>HTTP error.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-socket-error\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_SOCKET_ERROR</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">24</span></code></p>\n<p>Socket error.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-mem-alloc-error\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_MEM_ALLOC_ERROR</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">25</span></code></p>\n<p>Error allocating memory.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-no-gateway\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_NO_GATEWAY</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">26</span></code></p>\n<p>No gateway available. You may need to call <a class=\"reference internal\" href=\"#class-upnp-method-discover\"><span class=\"std std-ref\">discover()</span></a> first, or discovery didn't detect any valid IGDs (InternetGatewayDevices).</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-no-devices\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_NO_DEVICES</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">27</span></code></p>\n<p>No devices available. You may need to call <a class=\"reference internal\" href=\"#class-upnp-method-discover\"><span class=\"std std-ref\">discover()</span></a> first, or discovery didn't detect any valid <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>s.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-upnp-constant-upnp-result-unknown-error\"><a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> <strong>UPNP_RESULT_UNKNOWN_ERROR</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">28</span></code></p>\n<p>Unknown error.</p>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"property-descriptions\">\n<h2>Property Descriptions<a class=\"headerlink\" href=\"#property-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-property\" id=\"class-upnp-property-discover-ipv6\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>discover_ipv6</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">false</span></code> <a class=\"reference internal\" href=\"#class-upnp-property-discover-ipv6\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<ul class=\"classref-property-setget simple\">\n<li><p><abbr title=\"No return value.\">void</abbr> <strong>set_discover_ipv6</strong>(value: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a>)</p></li>\n<li><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>is_discover_ipv6</strong>()</p></li>\n</ul>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code>, IPv6 is used for <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a> discovery.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-property\" id=\"class-upnp-property-discover-local-port\"><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> <strong>discover_local_port</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code> <a class=\"reference internal\" href=\"#class-upnp-property-discover-local-port\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<ul class=\"classref-property-setget simple\">\n<li><p><abbr title=\"No return value.\">void</abbr> <strong>set_discover_local_port</strong>(value: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>)</p></li>\n<li><p><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> <strong>get_discover_local_port</strong>()</p></li>\n</ul>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code>, the local port to use for discovery is chosen automatically by the system. If <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code>, discovery will be done from the source port 1900 (same as destination port). Otherwise, the value will be used as the port.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-property\" id=\"class-upnp-property-discover-multicast-if\"><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> <strong>discover_multicast_if</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;&quot;</span></code> <a class=\"reference internal\" href=\"#class-upnp-property-discover-multicast-if\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<ul class=\"classref-property-setget simple\">\n<li><p><abbr title=\"No return value.\">void</abbr> <strong>set_discover_multicast_if</strong>(value: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>)</p></li>\n<li><p><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> <strong>get_discover_multicast_if</strong>()</p></li>\n</ul>\n<p>Multicast interface to use for discovery. Uses the default multicast interface if empty.</p>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"method-descriptions\">\n<h2>Method Descriptions<a class=\"headerlink\" href=\"#method-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-method\" id=\"class-upnp-method-add-device\"><abbr title=\"No return value.\">void</abbr> <strong>add_device</strong>(device: <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>) <a class=\"reference internal\" href=\"#class-upnp-method-add-device\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Adds the given <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a> to the list of discovered devices.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-upnp-method-add-port-mapping\"><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> <strong>add_port_mapping</strong>(port: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, port_internal: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 0, desc: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;&quot;, proto: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;UDP&quot;, duration: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 0) <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-upnp-method-add-port-mapping\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Adds a mapping to forward the external <code class=\"docutils literal notranslate\"><span class=\"pre\">port</span></code> (between 1 and 65535, although recommended to use port 1024 or above) on the default gateway (see <a class=\"reference internal\" href=\"#class-upnp-method-get-gateway\"><span class=\"std std-ref\">get_gateway()</span></a>) to the <code class=\"docutils literal notranslate\"><span class=\"pre\">port_internal</span></code> on the local machine for the given protocol <code class=\"docutils literal notranslate\"><span class=\"pre\">proto</span></code> (either <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;TCP&quot;</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;UDP&quot;</span></code>, with UDP being the default). If a port mapping for the given port and protocol combination already exists on that gateway device, this method tries to overwrite it. If that is not desired, you can retrieve the gateway manually with <a class=\"reference internal\" href=\"#class-upnp-method-get-gateway\"><span class=\"std std-ref\">get_gateway()</span></a> and call <a class=\"reference internal\" href=\"#class-upnp-method-add-port-mapping\"><span class=\"std std-ref\">add_port_mapping()</span></a> on it, if any. Note that forwarding a well-known port (below 1024) with UPnP may fail depending on the device.</p>\n<p>Depending on the gateway device, if a mapping for that port already exists, it will either be updated or it will refuse this command due to that conflict, especially if the existing mapping for that port wasn't created via UPnP or points to a different network address (or device) than this one.</p>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">port_internal</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code> (the default), the same port number is used for both the external and the internal port (the <code class=\"docutils literal notranslate\"><span class=\"pre\">port</span></code> value).</p>\n<p>The description (<code class=\"docutils literal notranslate\"><span class=\"pre\">desc</span></code>) is shown in some routers management UIs and can be used to point out which application added the mapping.</p>\n<p>The mapping's lease <code class=\"docutils literal notranslate\"><span class=\"pre\">duration</span></code> can be limited by specifying a duration in seconds. The default of <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code> means no duration, i.e. a permanent lease and notably some devices only support these permanent leases. Note that whether permanent or not, this is only a request and the gateway may still decide at any point to remove the mapping (which usually happens on a reboot of the gateway, when its external IP address changes, or on some models when it detects a port mapping has become inactive, i.e. had no traffic for multiple minutes). If not <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code> (permanent), the allowed range according to spec is between <code class=\"docutils literal notranslate\"><span class=\"pre\">120</span></code> (2 minutes) and <code class=\"docutils literal notranslate\"><span class=\"pre\">86400</span></code> seconds (24 hours).</p>\n<p>See <a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> for possible return values.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-upnp-method-clear-devices\"><abbr title=\"No return value.\">void</abbr> <strong>clear_devices</strong>() <a class=\"reference internal\" href=\"#class-upnp-method-clear-devices\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Clears the list of discovered devices.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-upnp-method-delete-port-mapping\"><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> <strong>delete_port_mapping</strong>(port: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, proto: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;UDP&quot;) <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-upnp-method-delete-port-mapping\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Deletes the port mapping for the given port and protocol combination on the default gateway (see <a class=\"reference internal\" href=\"#class-upnp-method-get-gateway\"><span class=\"std std-ref\">get_gateway()</span></a>) if one exists. <code class=\"docutils literal notranslate\"><span class=\"pre\">port</span></code> must be a valid port between 1 and 65535, <code class=\"docutils literal notranslate\"><span class=\"pre\">proto</span></code> can be either <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;TCP&quot;</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;UDP&quot;</span></code>. May be refused for mappings pointing to addresses other than this one, for well-known ports (below 1024), or for mappings not added via UPnP. See <a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> for possible return values.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-upnp-method-discover\"><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> <strong>discover</strong>(timeout: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 2000, ttl: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 2, device_filter: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;InternetGatewayDevice&quot;) <a class=\"reference internal\" href=\"#class-upnp-method-discover\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Discovers local <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>s. Clears the list of previously discovered devices.</p>\n<p>Filters for IGD (InternetGatewayDevice) type devices by default, as those manage port forwarding. <code class=\"docutils literal notranslate\"><span class=\"pre\">timeout</span></code> is the time to wait for responses in milliseconds. <code class=\"docutils literal notranslate\"><span class=\"pre\">ttl</span></code> is the time-to-live; only touch this if you know what you're doing.</p>\n<p>See <a class=\"reference internal\" href=\"#enum-upnp-upnpresult\"><span class=\"std std-ref\">UPNPResult</span></a> for possible return values.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-upnp-method-get-device\"><a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a> <strong>get_device</strong>(index: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>) <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-upnp-method-get-device\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns the <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a> at the given <code class=\"docutils literal notranslate\"><span class=\"pre\">index</span></code>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-upnp-method-get-device-count\"><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> <strong>get_device_count</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-upnp-method-get-device-count\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns the number of discovered <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>s.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-upnp-method-get-gateway\"><a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a> <strong>get_gateway</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-upnp-method-get-gateway\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns the default gateway. That is the first discovered <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a> that is also a valid IGD (InternetGatewayDevice).</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-upnp-method-query-external-address\"><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> <strong>query_external_address</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-upnp-method-query-external-address\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns the external <a class=\"reference internal\" href=\"../class_ip/#class-ip\"><span class=\"std std-ref\">IP</span></a> address of the default gateway (see <a class=\"reference internal\" href=\"#class-upnp-method-get-gateway\"><span class=\"std std-ref\">get_gateway()</span></a>) as string. Returns an empty string on error.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-upnp-method-remove-device\"><abbr title=\"No return value.\">void</abbr> <strong>remove_device</strong>(index: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>) <a class=\"reference internal\" href=\"#class-upnp-method-remove-device\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Removes the device at <code class=\"docutils literal notranslate\"><span class=\"pre\">index</span></code> from the list of discovered devices.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-upnp-method-set-device\"><abbr title=\"No return value.\">void</abbr> <strong>set_device</strong>(index: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, device: <a class=\"reference internal\" href=\"../class_upnpdevice/#class-upnpdevice\"><span class=\"std std-ref\">UPNPDevice</span></a>) <a class=\"reference internal\" href=\"#class-upnp-method-set-device\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Sets the device at <code class=\"docutils literal notranslate\"><span class=\"pre\">index</span></code> from the list of discovered devices to <code class=\"docutils literal notranslate\"><span class=\"pre\">device</span></code>.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["classes/class_upnpdevice", "UPNPDevice", "N", "next"], ["classes/class_uniformsetcacherd", "UniformSetCacheRD", "P", "previous"]], "sourcename": "classes/class_upnp.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">UPNP</a><ul>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#properties\">Properties</a></li>\n<li><a class=\"reference internal\" href=\"#methods\">Methods</a></li>\n<li><a class=\"reference internal\" href=\"#enumerations\">Enumerations</a></li>\n<li><a class=\"reference internal\" href=\"#property-descriptions\">Property Descriptions</a></li>\n<li><a class=\"reference internal\" href=\"#method-descriptions\">Method Descriptions</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "classes/class_upnp", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "sphinx_version_info": [8, 1, 3, "final", 0], "READTHEDOCS": false}