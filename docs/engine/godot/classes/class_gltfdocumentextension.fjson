{"parents": [{"link": "../", "title": "All classes"}], "prev": {"link": "../class_gltfdocument/", "title": "GLTFDocument"}, "next": {"link": "../class_gltfdocumentextensionconvertimportermesh/", "title": "GLTFDocumentExtensionConvertImporterMesh"}, "title": "GLTFDocumentExtension", "meta": {"github_url": "hide"}, "body": "<section id=\"gltfdocumentextension\">\n<span id=\"class-gltfdocumentextension\"></span><h1>GLTFDocumentExtension<a class=\"headerlink\" href=\"#gltfdocumentextension\" title=\"Link to this heading\">\uf0c1</a></h1>\n<p><strong>Inherits:</strong> <a class=\"reference internal\" href=\"../class_resource/#class-resource\"><span class=\"std std-ref\">Resource</span></a> <strong>&lt;</strong> <a class=\"reference internal\" href=\"../class_refcounted/#class-refcounted\"><span class=\"std std-ref\">RefCounted</span></a> <strong>&lt;</strong> <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a></p>\n<p><strong>Inherited By:</strong> <a class=\"reference internal\" href=\"../class_gltfdocumentextensionconvertimportermesh/#class-gltfdocumentextensionconvertimportermesh\"><span class=\"std std-ref\">GLTFDocumentExtensionConvertImporterMesh</span></a></p>\n<p><a class=\"reference internal\" href=\"../class_gltfdocument/#class-gltfdocument\"><span class=\"std std-ref\">GLTFDocument</span></a> extension class.</p>\n<section class=\"classref-introduction-group\" id=\"description\">\n<h2>Description<a class=\"headerlink\" href=\"#description\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p>Extends the functionality of the <a class=\"reference internal\" href=\"../class_gltfdocument/#class-gltfdocument\"><span class=\"std std-ref\">GLTFDocument</span></a> class by allowing you to run arbitrary code at various stages of glTF import or export.</p>\n<p>To use, make a new class extending GLTFDocumentExtension, override any methods you need, make an instance of your class, and register it using <a class=\"reference internal\" href=\"../class_gltfdocument/#class-gltfdocument-method-register-gltf-document-extension\"><span class=\"std std-ref\">GLTFDocument.register_gltf_document_extension()</span></a>.</p>\n<p><strong>Note:</strong> Like GLTFDocument itself, all GLTFDocumentExtension classes must be stateless in order to function properly. If you need to store data, use the <code class=\"docutils literal notranslate\"><span class=\"pre\">set_additional_data</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">get_additional_data</span></code> methods in <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a> or <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>.</p>\n</section>\n<section class=\"classref-introduction-group\" id=\"tutorials\">\n<h2>Tutorials<a class=\"headerlink\" href=\"#tutorials\" title=\"Link to this heading\">\uf0c1</a></h2>\n<ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"../../tutorials/io/runtime_file_loading_and_saving/\"><span class=\"doc\">Runtime file loading and saving</span></a></p></li>\n</ul>\n</section>\n<section class=\"classref-reftable-group\" id=\"methods\">\n<h2>Methods<a class=\"headerlink\" href=\"#methods\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-convert-scene-node\"><span class=\"std std-ref\">_convert_scene_node</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, gltf_node: <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>, scene_node: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-node\"><span class=\"std std-ref\">_export_node</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, gltf_node: <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>, json: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, node: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty\"><span class=\"std std-ref\">GLTFObjectModelProperty</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-object-model-property\"><span class=\"std std-ref\">_export_object_model_property</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, node_path: <a class=\"reference internal\" href=\"../class_nodepath/#class-nodepath\"><span class=\"std std-ref\">NodePath</span></a>, godot_node: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>, gltf_node_index: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, target_object: <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a>, target_depth: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-post\"><span class=\"std std-ref\">_export_post</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-post-convert\"><span class=\"std std-ref\">_export_post_convert</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, root: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-preflight\"><span class=\"std std-ref\">_export_preflight</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, root: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-preserialize\"><span class=\"std std-ref\">_export_preserialize</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_node3d/#class-node3d\"><span class=\"std std-ref\">Node3D</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-generate-scene-node\"><span class=\"std std-ref\">_generate_scene_node</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, gltf_node: <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>, scene_parent: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-image-file-extension\"><span class=\"std std-ref\">_get_image_file_extension</span></a>() <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_packedstringarray/#class-packedstringarray\"><span class=\"std std-ref\">PackedStringArray</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-saveable-image-formats\"><span class=\"std std-ref\">_get_saveable_image_formats</span></a>() <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_packedstringarray/#class-packedstringarray\"><span class=\"std std-ref\">PackedStringArray</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-supported-extensions\"><span class=\"std std-ref\">_get_supported_extensions</span></a>() <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-node\"><span class=\"std std-ref\">_import_node</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, gltf_node: <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>, json: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, node: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty\"><span class=\"std std-ref\">GLTFObjectModelProperty</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-object-model-property\"><span class=\"std std-ref\">_import_object_model_property</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, split_json_pointer: <a class=\"reference internal\" href=\"../class_packedstringarray/#class-packedstringarray\"><span class=\"std std-ref\">PackedStringArray</span></a>, partial_paths: <a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a>[<a class=\"reference internal\" href=\"../class_nodepath/#class-nodepath\"><span class=\"std std-ref\">NodePath</span></a>]) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-post\"><span class=\"std std-ref\">_import_post</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, root: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-post-parse\"><span class=\"std std-ref\">_import_post_parse</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-pre-generate\"><span class=\"std std-ref\">_import_pre_generate</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-preflight\"><span class=\"std std-ref\">_import_preflight</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, extensions: <a class=\"reference internal\" href=\"../class_packedstringarray/#class-packedstringarray\"><span class=\"std std-ref\">PackedStringArray</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-image-data\"><span class=\"std std-ref\">_parse_image_data</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, image_data: <a class=\"reference internal\" href=\"../class_packedbytearray/#class-packedbytearray\"><span class=\"std std-ref\">PackedByteArray</span></a>, mime_type: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, ret_image: <a class=\"reference internal\" href=\"../class_image/#class-image\"><span class=\"std std-ref\">Image</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-node-extensions\"><span class=\"std std-ref\">_parse_node_extensions</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, gltf_node: <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>, extensions: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-texture-json\"><span class=\"std std-ref\">_parse_texture_json</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, texture_json: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, ret_gltf_texture: <a class=\"reference internal\" href=\"../class_gltftexture/#class-gltftexture\"><span class=\"std std-ref\">GLTFTexture</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-save-image-at-path\"><span class=\"std std-ref\">_save_image_at_path</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, image: <a class=\"reference internal\" href=\"../class_image/#class-image\"><span class=\"std std-ref\">Image</span></a>, file_path: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, image_format: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, lossy_quality: <a class=\"reference internal\" href=\"../class_float/#class-float\"><span class=\"std std-ref\">float</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_packedbytearray/#class-packedbytearray\"><span class=\"std std-ref\">PackedByteArray</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-serialize-image-to-bytes\"><span class=\"std std-ref\">_serialize_image_to_bytes</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, image: <a class=\"reference internal\" href=\"../class_image/#class-image\"><span class=\"std std-ref\">Image</span></a>, image_dict: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, image_format: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, lossy_quality: <a class=\"reference internal\" href=\"../class_float/#class-float\"><span class=\"std std-ref\">float</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-serialize-texture-json\"><span class=\"std std-ref\">_serialize_texture_json</span></a>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, texture_json: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, gltf_texture: <a class=\"reference internal\" href=\"../class_gltftexture/#class-gltftexture\"><span class=\"std std-ref\">GLTFTexture</span></a>, image_format: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr></p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"method-descriptions\">\n<h2>Method Descriptions<a class=\"headerlink\" href=\"#method-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-convert-scene-node\"><abbr title=\"No return value.\">void</abbr> <strong>_convert_scene_node</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, gltf_node: <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>, scene_node: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-convert-scene-node\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-preflight\"><span class=\"std std-ref\">_export_preflight()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-post-convert\"><span class=\"std std-ref\">_export_post_convert()</span></a>.</p>\n<p>Runs when converting the data from a Godot scene node. This method can be used to process the Godot scene node data into a format that can be used by <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-node\"><span class=\"std std-ref\">_export_node()</span></a>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-export-node\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_export_node</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, gltf_node: <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>, json: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, node: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-node\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-saveable-image-formats\"><span class=\"std std-ref\">_get_saveable_image_formats()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-post\"><span class=\"std std-ref\">_export_post()</span></a>. If this <strong>GLTFDocumentExtension</strong> is used for exporting images, this runs after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-serialize-texture-json\"><span class=\"std std-ref\">_serialize_texture_json()</span></a>.</p>\n<p>This method can be used to modify the final JSON of each node. Data should be primarily stored in <code class=\"docutils literal notranslate\"><span class=\"pre\">gltf_node</span></code> prior to serializing the JSON, but the original Godot <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a> is also provided if available. <code class=\"docutils literal notranslate\"><span class=\"pre\">node</span></code> may be <code class=\"docutils literal notranslate\"><span class=\"pre\">null</span></code> if not available, such as when exporting glTF data not generated from a Godot scene.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-export-object-model-property\"><a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty\"><span class=\"std std-ref\">GLTFObjectModelProperty</span></a> <strong>_export_object_model_property</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, node_path: <a class=\"reference internal\" href=\"../class_nodepath/#class-nodepath\"><span class=\"std std-ref\">NodePath</span></a>, godot_node: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>, gltf_node_index: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, target_object: <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a>, target_depth: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-object-model-property\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. Allows GLTFDocumentExtension classes to provide mappings for properties of nodes in the Godot scene tree, to JSON pointers to glTF properties, as defined by the glTF object model.</p>\n<p>Returns a <a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty\"><span class=\"std std-ref\">GLTFObjectModelProperty</span></a> instance that defines how the property should be mapped. If your extension can't handle the property, return <code class=\"docutils literal notranslate\"><span class=\"pre\">null</span></code> or an instance without any JSON pointers (see <a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty-method-has-json-pointers\"><span class=\"std std-ref\">GLTFObjectModelProperty.has_json_pointers()</span></a>). You should use <a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty-method-set-types\"><span class=\"std std-ref\">GLTFObjectModelProperty.set_types()</span></a> to set the types, and set the JSON pointer(s) using the <a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty-property-json-pointers\"><span class=\"std std-ref\">GLTFObjectModelProperty.json_pointers</span></a> property.</p>\n<p>The parameters provide context for the property, including the NodePath, the Godot node, the GLTF node index, and the target object. The <code class=\"docutils literal notranslate\"><span class=\"pre\">target_object</span></code> will be equal to <code class=\"docutils literal notranslate\"><span class=\"pre\">godot_node</span></code> if no sub-object can be found, otherwise it will point to a sub-object. For example, if the path is <code class=\"docutils literal notranslate\"><span class=\"pre\">^&quot;A/B/C/MeshInstance3D:mesh:surface_0/material:emission_intensity&quot;</span></code>, it will get the node, then the mesh, and then the material, so <code class=\"docutils literal notranslate\"><span class=\"pre\">target_object</span></code> will be the <a class=\"reference internal\" href=\"../class_material/#class-material\"><span class=\"std std-ref\">Material</span></a> resource, and <code class=\"docutils literal notranslate\"><span class=\"pre\">target_depth</span></code> will be 2 because 2 levels were traversed to get to the target.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-export-post\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_export_post</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-post\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. This method is run last, after all other parts of the export process.</p>\n<p>This method can be used to modify the final JSON of the generated glTF file.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-export-post-convert\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_export_post_convert</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, root: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-post-convert\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-convert-scene-node\"><span class=\"std std-ref\">_convert_scene_node()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-preserialize\"><span class=\"std std-ref\">_export_preserialize()</span></a>.</p>\n<p>This method can be used to modify the converted node data structures before serialization with any additional data from the scene tree.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-export-preflight\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_export_preflight</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, root: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-preflight\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. This method is run first, before all other parts of the export process.</p>\n<p>The return value is used to determine if this <strong>GLTFDocumentExtension</strong> instance should be used for exporting a given glTF file. If <a class=\"reference internal\" href=\"../class_&#64;globalscope/#class-globalscope-constant-ok\"><span class=\"std std-ref\">&#64;GlobalScope.OK</span></a>, the export will use this <strong>GLTFDocumentExtension</strong> instance. If not overridden, <a class=\"reference internal\" href=\"../class_&#64;globalscope/#class-globalscope-constant-ok\"><span class=\"std std-ref\">&#64;GlobalScope.OK</span></a> is returned.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-export-preserialize\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_export_preserialize</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-preserialize\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-post-convert\"><span class=\"std std-ref\">_export_post_convert()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-saveable-image-formats\"><span class=\"std std-ref\">_get_saveable_image_formats()</span></a>.</p>\n<p>This method can be used to alter the state before performing serialization. It runs every time when generating a buffer with <a class=\"reference internal\" href=\"../class_gltfdocument/#class-gltfdocument-method-generate-buffer\"><span class=\"std std-ref\">GLTFDocument.generate_buffer()</span></a> or writing to the file system with <a class=\"reference internal\" href=\"../class_gltfdocument/#class-gltfdocument-method-write-to-filesystem\"><span class=\"std std-ref\">GLTFDocument.write_to_filesystem()</span></a>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-generate-scene-node\"><a class=\"reference internal\" href=\"../class_node3d/#class-node3d\"><span class=\"std std-ref\">Node3D</span></a> <strong>_generate_scene_node</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, gltf_node: <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>, scene_parent: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-generate-scene-node\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-pre-generate\"><span class=\"std std-ref\">_import_pre_generate()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-node\"><span class=\"std std-ref\">_import_node()</span></a>.</p>\n<p>Runs when generating a Godot scene node from a GLTFNode. The returned node will be added to the scene tree. Multiple nodes can be generated in this step if they are added as a child of the returned node.</p>\n<p><strong>Note:</strong> The <code class=\"docutils literal notranslate\"><span class=\"pre\">scene_parent</span></code> parameter may be <code class=\"docutils literal notranslate\"><span class=\"pre\">null</span></code> if this is the single root node.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-get-image-file-extension\"><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> <strong>_get_image_file_extension</strong>() <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-image-file-extension\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns the file extension to use for saving image data into, for example, <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;.png&quot;</span></code>. If defined, when this extension is used to handle images, and the images are saved to a separate file, the image bytes will be copied to a file with this extension. If this is set, there should be a <a class=\"reference internal\" href=\"../class_resourceimporter/#class-resourceimporter\"><span class=\"std std-ref\">ResourceImporter</span></a> class able to import the file. If not defined or empty, Godot will save the image into a PNG file.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-get-saveable-image-formats\"><a class=\"reference internal\" href=\"../class_packedstringarray/#class-packedstringarray\"><span class=\"std std-ref\">PackedStringArray</span></a> <strong>_get_saveable_image_formats</strong>() <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-saveable-image-formats\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-convert-scene-node\"><span class=\"std std-ref\">_convert_scene_node()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-node\"><span class=\"std std-ref\">_export_node()</span></a>.</p>\n<p>Returns an array of the image formats that can be saved/exported by this extension. This extension will only be selected as the image exporter if the <a class=\"reference internal\" href=\"../class_gltfdocument/#class-gltfdocument\"><span class=\"std std-ref\">GLTFDocument</span></a>'s <a class=\"reference internal\" href=\"../class_gltfdocument/#class-gltfdocument-property-image-format\"><span class=\"std std-ref\">GLTFDocument.image_format</span></a> is in this array. If this <strong>GLTFDocumentExtension</strong> is selected as the image exporter, one of the <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-save-image-at-path\"><span class=\"std std-ref\">_save_image_at_path()</span></a> or <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-serialize-image-to-bytes\"><span class=\"std std-ref\">_serialize_image_to_bytes()</span></a> methods will run next, otherwise <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-node\"><span class=\"std std-ref\">_export_node()</span></a> will run next. If the format name contains <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;Lossy&quot;</span></code>, the lossy quality slider will be displayed.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-get-supported-extensions\"><a class=\"reference internal\" href=\"../class_packedstringarray/#class-packedstringarray\"><span class=\"std std-ref\">PackedStringArray</span></a> <strong>_get_supported_extensions</strong>() <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-supported-extensions\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-preflight\"><span class=\"std std-ref\">_import_preflight()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-node-extensions\"><span class=\"std std-ref\">_parse_node_extensions()</span></a>.</p>\n<p>Returns an array of the glTF extensions supported by this GLTFDocumentExtension class. This is used to validate if a glTF file with required extensions can be loaded.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-import-node\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_import_node</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, gltf_node: <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>, json: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, node: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-node\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-generate-scene-node\"><span class=\"std std-ref\">_generate_scene_node()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-post\"><span class=\"std std-ref\">_import_post()</span></a>.</p>\n<p>This method can be used to make modifications to each of the generated Godot scene nodes.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-import-object-model-property\"><a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty\"><span class=\"std std-ref\">GLTFObjectModelProperty</span></a> <strong>_import_object_model_property</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, split_json_pointer: <a class=\"reference internal\" href=\"../class_packedstringarray/#class-packedstringarray\"><span class=\"std std-ref\">PackedStringArray</span></a>, partial_paths: <a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a>[<a class=\"reference internal\" href=\"../class_nodepath/#class-nodepath\"><span class=\"std std-ref\">NodePath</span></a>]) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-object-model-property\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. Allows GLTFDocumentExtension classes to provide mappings for JSON pointers to glTF properties, as defined by the glTF object model, to properties of nodes in the Godot scene tree.</p>\n<p>Returns a <a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty\"><span class=\"std std-ref\">GLTFObjectModelProperty</span></a> instance that defines how the property should be mapped. If your extension can't handle the property, return <code class=\"docutils literal notranslate\"><span class=\"pre\">null</span></code> or an instance without any NodePaths (see <a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty-method-has-node-paths\"><span class=\"std std-ref\">GLTFObjectModelProperty.has_node_paths()</span></a>). You should use <a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty-method-set-types\"><span class=\"std std-ref\">GLTFObjectModelProperty.set_types()</span></a> to set the types, and <a class=\"reference internal\" href=\"../class_gltfobjectmodelproperty/#class-gltfobjectmodelproperty-method-append-path-to-property\"><span class=\"std std-ref\">GLTFObjectModelProperty.append_path_to_property()</span></a> function is useful for most simple cases.</p>\n<p>In many cases, <code class=\"docutils literal notranslate\"><span class=\"pre\">partial_paths</span></code> will contain the start of a path, allowing the extension to complete the path. For example, for <code class=\"docutils literal notranslate\"><span class=\"pre\">/nodes/3/extensions/MY_ext/prop</span></code>, Godot will pass you a NodePath that leads to node 3, so the GLTFDocumentExtension class only needs to resolve the last <code class=\"docutils literal notranslate\"><span class=\"pre\">MY_ext/prop</span></code> part of the path. In this example, the extension should check <code class=\"docutils literal notranslate\"><span class=\"pre\">split.size()</span> <span class=\"pre\">&gt;</span> <span class=\"pre\">4</span> <span class=\"pre\">and</span> <span class=\"pre\">split[0]</span> <span class=\"pre\">==</span> <span class=\"pre\">&quot;nodes&quot;</span> <span class=\"pre\">and</span> <span class=\"pre\">split[2]</span> <span class=\"pre\">==</span> <span class=\"pre\">&quot;extensions&quot;</span> <span class=\"pre\">and</span> <span class=\"pre\">split[3]</span> <span class=\"pre\">==</span> <span class=\"pre\">&quot;MY_ext&quot;</span></code> at the start of the function to check if this JSON pointer applies to it, then it can use <code class=\"docutils literal notranslate\"><span class=\"pre\">partial_paths</span></code> and handle <code class=\"docutils literal notranslate\"><span class=\"pre\">split[4]</span></code>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-import-post\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_import_post</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, root: <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-post\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. This method is run last, after all other parts of the import process.</p>\n<p>This method can be used to modify the final Godot scene generated by the import process.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-import-post-parse\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_import_post_parse</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-post-parse\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-node-extensions\"><span class=\"std std-ref\">_parse_node_extensions()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-pre-generate\"><span class=\"std std-ref\">_import_pre_generate()</span></a>.</p>\n<p>This method can be used to modify any of the data imported so far after parsing each node, but before generating the scene or any of its nodes.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-import-pre-generate\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_import_pre_generate</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-pre-generate\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-post-parse\"><span class=\"std std-ref\">_import_post_parse()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-generate-scene-node\"><span class=\"std std-ref\">_generate_scene_node()</span></a>.</p>\n<p>This method can be used to modify or read from any of the processed data structures, before generating the nodes and then running the final per-node import step.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-import-preflight\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_import_preflight</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, extensions: <a class=\"reference internal\" href=\"../class_packedstringarray/#class-packedstringarray\"><span class=\"std std-ref\">PackedStringArray</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-preflight\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. This method is run first, before all other parts of the import process.</p>\n<p>The return value is used to determine if this <strong>GLTFDocumentExtension</strong> instance should be used for importing a given glTF file. If <a class=\"reference internal\" href=\"../class_&#64;globalscope/#class-globalscope-constant-ok\"><span class=\"std std-ref\">&#64;GlobalScope.OK</span></a>, the import will use this <strong>GLTFDocumentExtension</strong> instance. If not overridden, <a class=\"reference internal\" href=\"../class_&#64;globalscope/#class-globalscope-constant-ok\"><span class=\"std std-ref\">&#64;GlobalScope.OK</span></a> is returned.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-parse-image-data\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_parse_image_data</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, image_data: <a class=\"reference internal\" href=\"../class_packedbytearray/#class-packedbytearray\"><span class=\"std std-ref\">PackedByteArray</span></a>, mime_type: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, ret_image: <a class=\"reference internal\" href=\"../class_image/#class-image\"><span class=\"std std-ref\">Image</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-image-data\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-node-extensions\"><span class=\"std std-ref\">_parse_node_extensions()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-texture-json\"><span class=\"std std-ref\">_parse_texture_json()</span></a>.</p>\n<p>Runs when parsing image data from a glTF file. The data could be sourced from a separate file, a URI, or a buffer, and then is passed as a byte array.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-parse-node-extensions\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_parse_node_extensions</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, gltf_node: <a class=\"reference internal\" href=\"../class_gltfnode/#class-gltfnode\"><span class=\"std std-ref\">GLTFNode</span></a>, extensions: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-node-extensions\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-supported-extensions\"><span class=\"std std-ref\">_get_supported_extensions()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-import-post-parse\"><span class=\"std std-ref\">_import_post_parse()</span></a>.</p>\n<p>Runs when parsing the node extensions of a GLTFNode. This method can be used to process the extension JSON data into a format that can be used by <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-generate-scene-node\"><span class=\"std std-ref\">_generate_scene_node()</span></a>. The return value should be a member of the <a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> enum.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-parse-texture-json\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_parse_texture_json</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, texture_json: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, ret_gltf_texture: <a class=\"reference internal\" href=\"../class_gltftexture/#class-gltftexture\"><span class=\"std std-ref\">GLTFTexture</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-texture-json\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the import process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-parse-image-data\"><span class=\"std std-ref\">_parse_image_data()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-generate-scene-node\"><span class=\"std std-ref\">_generate_scene_node()</span></a>.</p>\n<p>Runs when parsing the texture JSON from the glTF textures array. This can be used to set the source image index to use as the texture.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-save-image-at-path\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_save_image_at_path</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, image: <a class=\"reference internal\" href=\"../class_image/#class-image\"><span class=\"std std-ref\">Image</span></a>, file_path: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, image_format: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, lossy_quality: <a class=\"reference internal\" href=\"../class_float/#class-float\"><span class=\"std std-ref\">float</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-save-image-at-path\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-saveable-image-formats\"><span class=\"std std-ref\">_get_saveable_image_formats()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-serialize-texture-json\"><span class=\"std std-ref\">_serialize_texture_json()</span></a>.</p>\n<p>This method is run when saving images separately from the glTF file. When images are embedded, <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-serialize-image-to-bytes\"><span class=\"std std-ref\">_serialize_image_to_bytes()</span></a> runs instead. Note that these methods only run when this <strong>GLTFDocumentExtension</strong> is selected as the image exporter.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-serialize-image-to-bytes\"><a class=\"reference internal\" href=\"../class_packedbytearray/#class-packedbytearray\"><span class=\"std std-ref\">PackedByteArray</span></a> <strong>_serialize_image_to_bytes</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, image: <a class=\"reference internal\" href=\"../class_image/#class-image\"><span class=\"std std-ref\">Image</span></a>, image_dict: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, image_format: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, lossy_quality: <a class=\"reference internal\" href=\"../class_float/#class-float\"><span class=\"std std-ref\">float</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-serialize-image-to-bytes\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-get-saveable-image-formats\"><span class=\"std std-ref\">_get_saveable_image_formats()</span></a> and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-serialize-texture-json\"><span class=\"std std-ref\">_serialize_texture_json()</span></a>.</p>\n<p>This method is run when embedding images in the glTF file. When images are saved separately, <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-save-image-at-path\"><span class=\"std std-ref\">_save_image_at_path()</span></a> runs instead. Note that these methods only run when this <strong>GLTFDocumentExtension</strong> is selected as the image exporter.</p>\n<p>This method must set the image MIME type in the <code class=\"docutils literal notranslate\"><span class=\"pre\">image_dict</span></code> with the <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;mimeType&quot;</span></code> key. For example, for a PNG image, it would be set to <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;image/png&quot;</span></code>. The return value must be a <a class=\"reference internal\" href=\"../class_packedbytearray/#class-packedbytearray\"><span class=\"std std-ref\">PackedByteArray</span></a> containing the image data.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-gltfdocumentextension-private-method-serialize-texture-json\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>_serialize_texture_json</strong>(state: <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate\"><span class=\"std std-ref\">GLTFState</span></a>, texture_json: <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, gltf_texture: <a class=\"reference internal\" href=\"../class_gltftexture/#class-gltftexture\"><span class=\"std std-ref\">GLTFTexture</span></a>, image_format: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>) <abbr title=\"This method should typically be overridden by the user to have any effect.\">virtual</abbr> <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-serialize-texture-json\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Part of the export process. This method is run after <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-save-image-at-path\"><span class=\"std std-ref\">_save_image_at_path()</span></a> or <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-serialize-image-to-bytes\"><span class=\"std std-ref\">_serialize_image_to_bytes()</span></a>, and before <a class=\"reference internal\" href=\"#class-gltfdocumentextension-private-method-export-node\"><span class=\"std std-ref\">_export_node()</span></a>. Note that this method only runs when this <strong>GLTFDocumentExtension</strong> is selected as the image exporter.</p>\n<p>This method can be used to set up the extensions for the texture JSON by editing <code class=\"docutils literal notranslate\"><span class=\"pre\">texture_json</span></code>. The extension must also be added as used extension with <a class=\"reference internal\" href=\"../class_gltfstate/#class-gltfstate-method-add-used-extension\"><span class=\"std std-ref\">GLTFState.add_used_extension()</span></a>, be sure to set <code class=\"docutils literal notranslate\"><span class=\"pre\">required</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if you are not providing a fallback.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["classes/class_gltfdocumentextensionconvertimportermesh", "GLTFDocumentExtensionConvertImporterMesh", "N", "next"], ["classes/class_gltfdocument", "GLTFDocument", "P", "previous"]], "sourcename": "classes/class_gltfdocumentextension.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">GLTFDocumentExtension</a><ul>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#tutorials\">Tutorials</a></li>\n<li><a class=\"reference internal\" href=\"#methods\">Methods</a></li>\n<li><a class=\"reference internal\" href=\"#method-descriptions\">Method Descriptions</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "classes/class_gltfdocumentextension", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "sphinx_version_info": [8, 1, 3, "final", 0], "READTHEDOCS": false}