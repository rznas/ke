{"parents": [{"link": "../", "title": "All classes"}], "prev": {"link": "../class_themedb/", "title": "ThemeDB"}, "next": {"link": "../class_tiledata/", "title": "TileData"}, "title": "Thread", "meta": {"github_url": "hide"}, "body": "<section id=\"thread\">\n<span id=\"class-thread\"></span><h1>Thread<a class=\"headerlink\" href=\"#thread\" title=\"Link to this heading\">\uf0c1</a></h1>\n<p><strong>Inherits:</strong> <a class=\"reference internal\" href=\"../class_refcounted/#class-refcounted\"><span class=\"std std-ref\">RefCounted</span></a> <strong>&lt;</strong> <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a></p>\n<p>A unit of execution in a process.</p>\n<section class=\"classref-introduction-group\" id=\"description\">\n<h2>Description<a class=\"headerlink\" href=\"#description\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p>A unit of execution in a process. Can run methods on <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a>s simultaneously. The use of synchronization via <a class=\"reference internal\" href=\"../class_mutex/#class-mutex\"><span class=\"std std-ref\">Mutex</span></a> or <a class=\"reference internal\" href=\"../class_semaphore/#class-semaphore\"><span class=\"std std-ref\">Semaphore</span></a> is advised if working with shared objects.</p>\n<p><strong>Warning:</strong> To ensure proper cleanup without crashes or deadlocks, when a <strong>Thread</strong>'s reference count reaches zero and it is therefore destroyed, the following conditions must be met:</p>\n<ul class=\"simple\">\n<li><p>It must not have any <a class=\"reference internal\" href=\"../class_mutex/#class-mutex\"><span class=\"std std-ref\">Mutex</span></a> objects locked.</p></li>\n<li><p>It must not be waiting on any <a class=\"reference internal\" href=\"../class_semaphore/#class-semaphore\"><span class=\"std std-ref\">Semaphore</span></a> objects.</p></li>\n<li><p><a class=\"reference internal\" href=\"#class-thread-method-wait-to-finish\"><span class=\"std std-ref\">wait_to_finish()</span></a> should have been called on it.</p></li>\n</ul>\n</section>\n<section class=\"classref-introduction-group\" id=\"tutorials\">\n<h2>Tutorials<a class=\"headerlink\" href=\"#tutorials\" title=\"Link to this heading\">\uf0c1</a></h2>\n<ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"../../tutorials/performance/using_multiple_threads/\"><span class=\"doc\">Using multiple threads</span></a></p></li>\n<li><p><a class=\"reference internal\" href=\"../../tutorials/performance/thread_safe_apis/\"><span class=\"doc\">Thread-safe APIs</span></a></p></li>\n<li><p><a class=\"reference external\" href=\"https://godotengine.org/asset-library/asset/2755\">3D Voxel Demo</a></p></li>\n</ul>\n</section>\n<section class=\"classref-reftable-group\" id=\"methods\">\n<h2>Methods<a class=\"headerlink\" href=\"#methods\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-thread-method-get-id\"><span class=\"std std-ref\">get_id</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-thread-method-is-alive\"><span class=\"std std-ref\">is_alive</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-thread-method-is-main-thread\"><span class=\"std std-ref\">is_main_thread</span></a>() <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-thread-method-is-started\"><span class=\"std std-ref\">is_started</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-thread-method-set-thread-safety-checks-enabled\"><span class=\"std std-ref\">set_thread_safety_checks_enabled</span></a>(enabled: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a>) <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-thread-method-start\"><span class=\"std std-ref\">start</span></a>(callable: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a>, priority: <a class=\"reference internal\" href=\"#enum-thread-priority\"><span class=\"std std-ref\">Priority</span></a> = 1)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-thread-method-wait-to-finish\"><span class=\"std std-ref\">wait_to_finish</span></a>()</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"enumerations\">\n<h2>Enumerations<a class=\"headerlink\" href=\"#enumerations\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-enumeration\" id=\"enum-thread-priority\">enum <strong>Priority</strong>: <a class=\"reference internal\" href=\"#enum-thread-priority\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p class=\"classref-enumeration-constant\" id=\"class-thread-constant-priority-low\"><a class=\"reference internal\" href=\"#enum-thread-priority\"><span class=\"std std-ref\">Priority</span></a> <strong>PRIORITY_LOW</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code></p>\n<p>A thread running with lower priority than normally.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-thread-constant-priority-normal\"><a class=\"reference internal\" href=\"#enum-thread-priority\"><span class=\"std std-ref\">Priority</span></a> <strong>PRIORITY_NORMAL</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code></p>\n<p>A thread with a standard priority.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-thread-constant-priority-high\"><a class=\"reference internal\" href=\"#enum-thread-priority\"><span class=\"std std-ref\">Priority</span></a> <strong>PRIORITY_HIGH</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">2</span></code></p>\n<p>A thread running with higher priority than normally.</p>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"method-descriptions\">\n<h2>Method Descriptions<a class=\"headerlink\" href=\"#method-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-method\" id=\"class-thread-method-get-id\"><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> <strong>get_id</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-thread-method-get-id\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns the current <strong>Thread</strong>'s ID, uniquely identifying it among all threads. If the <strong>Thread</strong> has not started running or if <a class=\"reference internal\" href=\"#class-thread-method-wait-to-finish\"><span class=\"std std-ref\">wait_to_finish()</span></a> has been called, this returns an empty string.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-thread-method-is-alive\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>is_alive</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-thread-method-is-alive\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if this <strong>Thread</strong> is currently running the provided function. This is useful for determining if <a class=\"reference internal\" href=\"#class-thread-method-wait-to-finish\"><span class=\"std std-ref\">wait_to_finish()</span></a> can be called without blocking the calling thread.</p>\n<p>To check if a <strong>Thread</strong> is joinable, use <a class=\"reference internal\" href=\"#class-thread-method-is-started\"><span class=\"std std-ref\">is_started()</span></a>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-thread-method-is-main-thread\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>is_main_thread</strong>() <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr> <a class=\"reference internal\" href=\"#class-thread-method-is-main-thread\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if the thread this method was called from is the main thread.</p>\n<p><strong>Note:</strong> This is a static method and isn't associated with a specific <strong>Thread</strong> object.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-thread-method-is-started\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>is_started</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-thread-method-is-started\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if this <strong>Thread</strong> has been started. Once started, this will return <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> until it is joined using <a class=\"reference internal\" href=\"#class-thread-method-wait-to-finish\"><span class=\"std std-ref\">wait_to_finish()</span></a>. For checking if a <strong>Thread</strong> is still executing its task, use <a class=\"reference internal\" href=\"#class-thread-method-is-alive\"><span class=\"std std-ref\">is_alive()</span></a>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-thread-method-set-thread-safety-checks-enabled\"><abbr title=\"No return value.\">void</abbr> <strong>set_thread_safety_checks_enabled</strong>(enabled: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a>) <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr> <a class=\"reference internal\" href=\"#class-thread-method-set-thread-safety-checks-enabled\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Sets whether the thread safety checks the engine normally performs in methods of certain classes (e.g., <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a>) should happen <strong>on the current thread</strong>.</p>\n<p>The default, for every thread, is that they are enabled (as if called with <code class=\"docutils literal notranslate\"><span class=\"pre\">enabled</span></code> being <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code>).</p>\n<p>Those checks are conservative. That means that they will only succeed in considering a call thread-safe (and therefore allow it to happen) if the engine can guarantee such safety.</p>\n<p>Because of that, there may be cases where the user may want to disable them (<code class=\"docutils literal notranslate\"><span class=\"pre\">enabled</span></code> being <code class=\"docutils literal notranslate\"><span class=\"pre\">false</span></code>) to make certain operations allowed again. By doing so, it becomes the user's responsibility to ensure thread safety (e.g., by using <a class=\"reference internal\" href=\"../class_mutex/#class-mutex\"><span class=\"std std-ref\">Mutex</span></a>) for those objects that are otherwise protected by the engine.</p>\n<p><strong>Note:</strong> This is an advanced usage of the engine. You are advised to use it only if you know what you are doing and there is no safer way.</p>\n<p><strong>Note:</strong> This is useful for scripts running on either arbitrary <strong>Thread</strong> objects or tasks submitted to the <a class=\"reference internal\" href=\"../class_workerthreadpool/#class-workerthreadpool\"><span class=\"std std-ref\">WorkerThreadPool</span></a>. It doesn't apply to code running during <a class=\"reference internal\" href=\"../class_node/#class-node\"><span class=\"std std-ref\">Node</span></a> group processing, where the checks will be always performed.</p>\n<p><strong>Note:</strong> Even in the case of having disabled the checks in a <a class=\"reference internal\" href=\"../class_workerthreadpool/#class-workerthreadpool\"><span class=\"std std-ref\">WorkerThreadPool</span></a> task, there's no need to re-enable them at the end. The engine will do so.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-thread-method-start\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>start</strong>(callable: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a>, priority: <a class=\"reference internal\" href=\"#enum-thread-priority\"><span class=\"std std-ref\">Priority</span></a> = 1) <a class=\"reference internal\" href=\"#class-thread-method-start\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Starts a new <strong>Thread</strong> that calls <code class=\"docutils literal notranslate\"><span class=\"pre\">callable</span></code>.</p>\n<p>If the method takes some arguments, you can pass them using <a class=\"reference internal\" href=\"../class_callable/#class-callable-method-bind\"><span class=\"std std-ref\">Callable.bind()</span></a>.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">priority</span></code> of the <strong>Thread</strong> can be changed by passing a value from the <a class=\"reference internal\" href=\"#enum-thread-priority\"><span class=\"std std-ref\">Priority</span></a> enum.</p>\n<p>Returns <a class=\"reference internal\" href=\"../class_&#64;globalscope/#class-globalscope-constant-ok\"><span class=\"std std-ref\">&#64;GlobalScope.OK</span></a> on success, or <a class=\"reference internal\" href=\"../class_&#64;globalscope/#class-globalscope-constant-err-cant-create\"><span class=\"std std-ref\">&#64;GlobalScope.ERR_CANT_CREATE</span></a> on failure.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-thread-method-wait-to-finish\"><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> <strong>wait_to_finish</strong>() <a class=\"reference internal\" href=\"#class-thread-method-wait-to-finish\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Joins the <strong>Thread</strong> and waits for it to finish. Returns the output of the <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a> passed to <a class=\"reference internal\" href=\"#class-thread-method-start\"><span class=\"std std-ref\">start()</span></a>.</p>\n<p>Should either be used when you want to retrieve the value returned from the method called by the <strong>Thread</strong> or before freeing the instance that contains the <strong>Thread</strong>.</p>\n<p>To determine if this can be called without blocking the calling thread, check if <a class=\"reference internal\" href=\"#class-thread-method-is-alive\"><span class=\"std std-ref\">is_alive()</span></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">false</span></code>.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["classes/class_tiledata", "TileData", "N", "next"], ["classes/class_themedb", "ThemeDB", "P", "previous"]], "sourcename": "classes/class_thread.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Thread</a><ul>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#tutorials\">Tutorials</a></li>\n<li><a class=\"reference internal\" href=\"#methods\">Methods</a></li>\n<li><a class=\"reference internal\" href=\"#enumerations\">Enumerations</a></li>\n<li><a class=\"reference internal\" href=\"#method-descriptions\">Method Descriptions</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "classes/class_thread", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "sphinx_version_info": [8, 1, 3, "final", 0], "READTHEDOCS": false}