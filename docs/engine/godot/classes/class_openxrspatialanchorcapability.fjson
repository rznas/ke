{"parents": [{"link": "../", "title": "All classes"}], "prev": {"link": "../class_openxrrendermodelextension/", "title": "OpenXRRenderModelExtension"}, "next": {"link": "../class_openxrspatialcapabilityconfigurationanchor/", "title": "OpenXRSpatialCapabilityConfigurationAnchor"}, "title": "OpenXRSpatialAnchorCapability", "meta": {"github_url": "hide"}, "body": "<section id=\"openxrspatialanchorcapability\">\n<span id=\"class-openxrspatialanchorcapability\"></span><h1>OpenXRSpatialAnchorCapability<a class=\"headerlink\" href=\"#openxrspatialanchorcapability\" title=\"Link to this heading\">\uf0c1</a></h1>\n<p><strong>Experimental:</strong> This class may be changed or removed in future versions.</p>\n<p><strong>Inherits:</strong> <a class=\"reference internal\" href=\"../class_openxrextensionwrapper/#class-openxrextensionwrapper\"><span class=\"std std-ref\">OpenXRExtensionWrapper</span></a> <strong>&lt;</strong> <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a></p>\n<p>Implementation for handling spatial entity anchor logic.</p>\n<section class=\"classref-introduction-group\" id=\"description\">\n<h2>Description<a class=\"headerlink\" href=\"#description\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p>This is an internal class that handles the OpenXR anchor spatial entity extension.</p>\n</section>\n<section class=\"classref-reftable-group\" id=\"methods\">\n<h2>Methods<a class=\"headerlink\" href=\"#methods\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_openxranchortracker/#class-openxranchortracker\"><span class=\"std std-ref\">OpenXRAnchorTracker</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-create-new-anchor\"><span class=\"std std-ref\">create_new_anchor</span></a>(transform: <a class=\"reference internal\" href=\"../class_transform3d/#class-transform3d\"><span class=\"std std-ref\">Transform3D</span></a>, spatial_context: <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a> = RID())</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_openxrfutureresult/#class-openxrfutureresult\"><span class=\"std std-ref\">OpenXRFutureResult</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-create-persistence-context\"><span class=\"std std-ref\">create_persistence_context</span></a>(scope: <a class=\"reference internal\" href=\"#enum-openxrspatialanchorcapability-persistencescope\"><span class=\"std std-ref\">PersistenceScope</span></a>, user_callback: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a> = Callable())</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-free-persistence-context\"><span class=\"std std-ref\">free_persistence_context</span></a>(persistence_context: <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-get-persistence-context-handle\"><span class=\"std std-ref\">get_persistence_context_handle</span></a>(persistence_context: <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a>) <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-is-persistence-scope-supported\"><span class=\"std std-ref\">is_persistence_scope_supported</span></a>(scope: <a class=\"reference internal\" href=\"#enum-openxrspatialanchorcapability-persistencescope\"><span class=\"std std-ref\">PersistenceScope</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-is-spatial-anchor-supported\"><span class=\"std std-ref\">is_spatial_anchor_supported</span></a>()</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-is-spatial-persistence-supported\"><span class=\"std std-ref\">is_spatial_persistence_supported</span></a>()</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_openxrfutureresult/#class-openxrfutureresult\"><span class=\"std std-ref\">OpenXRFutureResult</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-persist-anchor\"><span class=\"std std-ref\">persist_anchor</span></a>(anchor_tracker: <a class=\"reference internal\" href=\"../class_openxranchortracker/#class-openxranchortracker\"><span class=\"std std-ref\">OpenXRAnchorTracker</span></a>, persistence_context: <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a> = RID(), user_callback: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a> = Callable())</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-remove-anchor\"><span class=\"std std-ref\">remove_anchor</span></a>(anchor_tracker: <a class=\"reference internal\" href=\"../class_openxranchortracker/#class-openxranchortracker\"><span class=\"std std-ref\">OpenXRAnchorTracker</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_openxrfutureresult/#class-openxrfutureresult\"><span class=\"std std-ref\">OpenXRFutureResult</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-unpersist-anchor\"><span class=\"std std-ref\">unpersist_anchor</span></a>(anchor_tracker: <a class=\"reference internal\" href=\"../class_openxranchortracker/#class-openxranchortracker\"><span class=\"std std-ref\">OpenXRAnchorTracker</span></a>, persistence_context: <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a> = RID(), user_callback: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a> = Callable())</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"enumerations\">\n<h2>Enumerations<a class=\"headerlink\" href=\"#enumerations\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-enumeration\" id=\"enum-openxrspatialanchorcapability-persistencescope\">enum <strong>PersistenceScope</strong>: <a class=\"reference internal\" href=\"#enum-openxrspatialanchorcapability-persistencescope\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p class=\"classref-enumeration-constant\" id=\"class-openxrspatialanchorcapability-constant-persistence-scope-system-managed\"><a class=\"reference internal\" href=\"#enum-openxrspatialanchorcapability-persistencescope\"><span class=\"std std-ref\">PersistenceScope</span></a> <strong>PERSISTENCE_SCOPE_SYSTEM_MANAGED</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code></p>\n<p>Provides the application with read-only access (i.e. application cannot modify this scope) to spatial entities persisted and managed by the system. The application can use the UUID in the persistence component for this scope to correlate entities across spatial contexts and device reboots.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-openxrspatialanchorcapability-constant-persistence-scope-local-anchors\"><a class=\"reference internal\" href=\"#enum-openxrspatialanchorcapability-persistencescope\"><span class=\"std std-ref\">PersistenceScope</span></a> <strong>PERSISTENCE_SCOPE_LOCAL_ANCHORS</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">1000781000</span></code></p>\n<p>Persistence operations and data access is limited to spatial anchors, on the same device, for the same user and same app (using <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-persist-anchor\"><span class=\"std std-ref\">persist_anchor()</span></a> and <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-unpersist-anchor\"><span class=\"std std-ref\">unpersist_anchor()</span></a> functions)</p>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"method-descriptions\">\n<h2>Method Descriptions<a class=\"headerlink\" href=\"#method-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-method\" id=\"class-openxrspatialanchorcapability-method-create-new-anchor\"><a class=\"reference internal\" href=\"../class_openxranchortracker/#class-openxranchortracker\"><span class=\"std std-ref\">OpenXRAnchorTracker</span></a> <strong>create_new_anchor</strong>(transform: <a class=\"reference internal\" href=\"../class_transform3d/#class-transform3d\"><span class=\"std std-ref\">Transform3D</span></a>, spatial_context: <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a> = RID()) <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-create-new-anchor\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Creates a new anchor that will be tracked by the XR runtime. The <code class=\"docutils literal notranslate\"><span class=\"pre\">transform</span></code> should be a transform in the local space of your <a class=\"reference internal\" href=\"../class_xrorigin3d/#class-xrorigin3d\"><span class=\"std std-ref\">XROrigin3D</span></a> node. If <code class=\"docutils literal notranslate\"><span class=\"pre\">spatial_context</span></code> is not specified the default will be used, this requires <a class=\"reference internal\" href=\"../class_projectsettings/#class-projectsettings-property-xr-openxr-extensions-spatial-entity-enable-builtin-anchor-detection\"><span class=\"std std-ref\">ProjectSettings.xr/openxr/extensions/spatial_entity/enable_builtin_anchor_detection</span></a> to be set. The returned tracker will track the location in case our reference space changes.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-openxrspatialanchorcapability-method-create-persistence-context\"><a class=\"reference internal\" href=\"../class_openxrfutureresult/#class-openxrfutureresult\"><span class=\"std std-ref\">OpenXRFutureResult</span></a> <strong>create_persistence_context</strong>(scope: <a class=\"reference internal\" href=\"#enum-openxrspatialanchorcapability-persistencescope\"><span class=\"std std-ref\">PersistenceScope</span></a>, user_callback: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a> = Callable()) <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-create-persistence-context\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Creates a new persistence context for storing persistent data.</p>\n<p><strong>Note:</strong> This is an asynchronous method and returns an <a class=\"reference internal\" href=\"../class_openxrfutureresult/#class-openxrfutureresult\"><span class=\"std std-ref\">OpenXRFutureResult</span></a> object with which to track the status, discarding this object will not cancel the creation process. On success <code class=\"docutils literal notranslate\"><span class=\"pre\">user_callback</span></code> will be called if specified. The result value for this function is the <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a> for our persistence context.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-openxrspatialanchorcapability-method-free-persistence-context\"><abbr title=\"No return value.\">void</abbr> <strong>free_persistence_context</strong>(persistence_context: <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a>) <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-free-persistence-context\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Frees a persistence context previously created with <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-create-persistence-context\"><span class=\"std std-ref\">create_persistence_context()</span></a>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-openxrspatialanchorcapability-method-get-persistence-context-handle\"><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> <strong>get_persistence_context_handle</strong>(persistence_context: <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a>) <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-get-persistence-context-handle\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns the internal handle for this persistence context.</p>\n<p><strong>Note:</strong> For GDExtension implementations.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-openxrspatialanchorcapability-method-is-persistence-scope-supported\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>is_persistence_scope_supported</strong>(scope: <a class=\"reference internal\" href=\"#enum-openxrspatialanchorcapability-persistencescope\"><span class=\"std std-ref\">PersistenceScope</span></a>) <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-is-persistence-scope-supported\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if this persistence scope is supported by our spatial anchor capability.</p>\n<p><strong>Note:</strong> Only valid after an OpenXR instance has been created.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-openxrspatialanchorcapability-method-is-spatial-anchor-supported\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>is_spatial_anchor_supported</strong>() <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-is-spatial-anchor-supported\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if spatial anchors are supported by the hardware. Only returns a valid value after OpenXR has been initialized.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-openxrspatialanchorcapability-method-is-spatial-persistence-supported\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>is_spatial_persistence_supported</strong>() <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-is-spatial-persistence-supported\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if persistent spatial anchors are supported by the hardware. Only returns a valid value after OpenXR has been initialized.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-openxrspatialanchorcapability-method-persist-anchor\"><a class=\"reference internal\" href=\"../class_openxrfutureresult/#class-openxrfutureresult\"><span class=\"std std-ref\">OpenXRFutureResult</span></a> <strong>persist_anchor</strong>(anchor_tracker: <a class=\"reference internal\" href=\"../class_openxranchortracker/#class-openxranchortracker\"><span class=\"std std-ref\">OpenXRAnchorTracker</span></a>, persistence_context: <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a> = RID(), user_callback: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a> = Callable()) <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-persist-anchor\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Changes this anchor into a persistent anchor. This means its location will be stored on the device and the anchor will be restored the next time your application starts. If <code class=\"docutils literal notranslate\"><span class=\"pre\">persistence_context</span></code> is not specified the default will be used, this requires <a class=\"reference internal\" href=\"../class_projectsettings/#class-projectsettings-property-xr-openxr-extensions-spatial-entity-enable-builtin-anchor-detection\"><span class=\"std std-ref\">ProjectSettings.xr/openxr/extensions/spatial_entity/enable_builtin_anchor_detection</span></a> to be set.</p>\n<p><strong>Note:</strong> This is an asynchronous method and returns an <a class=\"reference internal\" href=\"../class_openxrfutureresult/#class-openxrfutureresult\"><span class=\"std std-ref\">OpenXRFutureResult</span></a> object with which to track the status, discarding this object will not cancel the creation process. On success <code class=\"docutils literal notranslate\"><span class=\"pre\">user_callback</span></code> will be called if specified. The result value for this function is a boolean which will be set to <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> on successful completion.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-openxrspatialanchorcapability-method-remove-anchor\"><abbr title=\"No return value.\">void</abbr> <strong>remove_anchor</strong>(anchor_tracker: <a class=\"reference internal\" href=\"../class_openxranchortracker/#class-openxranchortracker\"><span class=\"std std-ref\">OpenXRAnchorTracker</span></a>) <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-remove-anchor\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Remove an anchor previously created with <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-create-new-anchor\"><span class=\"std std-ref\">create_new_anchor()</span></a>. If this anchor was persistent you must first call <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-unpersist-anchor\"><span class=\"std std-ref\">unpersist_anchor()</span></a> and await its callback.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-openxrspatialanchorcapability-method-unpersist-anchor\"><a class=\"reference internal\" href=\"../class_openxrfutureresult/#class-openxrfutureresult\"><span class=\"std std-ref\">OpenXRFutureResult</span></a> <strong>unpersist_anchor</strong>(anchor_tracker: <a class=\"reference internal\" href=\"../class_openxranchortracker/#class-openxranchortracker\"><span class=\"std std-ref\">OpenXRAnchorTracker</span></a>, persistence_context: <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a> = RID(), user_callback: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a> = Callable()) <a class=\"reference internal\" href=\"#class-openxrspatialanchorcapability-method-unpersist-anchor\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Removes the persistent data from this anchor. The runtime will not recreate the anchor when your application restarts. If <code class=\"docutils literal notranslate\"><span class=\"pre\">persistence_context</span></code> is not specified the default will be used, this requires <a class=\"reference internal\" href=\"../class_projectsettings/#class-projectsettings-property-xr-openxr-extensions-spatial-entity-enabled\"><span class=\"std std-ref\">ProjectSettings.xr/openxr/extensions/spatial_entity/enabled</span></a> to be set.</p>\n<p><strong>Note:</strong> This is an asynchronous method and returns an <a class=\"reference internal\" href=\"../class_openxrfutureresult/#class-openxrfutureresult\"><span class=\"std std-ref\">OpenXRFutureResult</span></a> object with which to track the status, discarding this object will not cancel the creation process. On success <code class=\"docutils literal notranslate\"><span class=\"pre\">user_callback</span></code> will be called if specified. The result value for this function is a boolean which will be set to <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> on successful completion.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["classes/class_openxrspatialcapabilityconfigurationanchor", "OpenXRSpatialCapabilityConfigurationAnchor", "N", "next"], ["classes/class_openxrrendermodelextension", "OpenXRRenderModelExtension", "P", "previous"]], "sourcename": "classes/class_openxrspatialanchorcapability.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">OpenXRSpatialAnchorCapability</a><ul>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#methods\">Methods</a></li>\n<li><a class=\"reference internal\" href=\"#enumerations\">Enumerations</a></li>\n<li><a class=\"reference internal\" href=\"#method-descriptions\">Method Descriptions</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "classes/class_openxrspatialanchorcapability", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "sphinx_version_info": [8, 1, 3, "final", 0], "READTHEDOCS": false}