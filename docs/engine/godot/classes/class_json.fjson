{"parents": [{"link": "../", "title": "All classes"}], "prev": {"link": "../class_jointlimitationcone3d/", "title": "JointLimitationCone3D"}, "next": {"link": "../class_labelsettings/", "title": "LabelSettings"}, "title": "JSON", "meta": {"github_url": "hide"}, "body": "<section id=\"json\">\n<span id=\"class-json\"></span><h1>JSON<a class=\"headerlink\" href=\"#json\" title=\"Link to this heading\">\uf0c1</a></h1>\n<p><strong>Inherits:</strong> <a class=\"reference internal\" href=\"../class_resource/#class-resource\"><span class=\"std std-ref\">Resource</span></a> <strong>&lt;</strong> <a class=\"reference internal\" href=\"../class_refcounted/#class-refcounted\"><span class=\"std std-ref\">RefCounted</span></a> <strong>&lt;</strong> <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a></p>\n<p>Helper class for creating and parsing JSON data.</p>\n<section class=\"classref-introduction-group\" id=\"description\">\n<h2>Description<a class=\"headerlink\" href=\"#description\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p>The <strong>JSON</strong> class enables all data types to be converted to and from a JSON string. This is useful for serializing data, e.g. to save to a file or send over the network.</p>\n<p><a class=\"reference internal\" href=\"#class-json-method-stringify\"><span class=\"std std-ref\">stringify()</span></a> is used to convert any data type into a JSON string.</p>\n<p><a class=\"reference internal\" href=\"#class-json-method-parse\"><span class=\"std std-ref\">parse()</span></a> is used to convert any existing JSON data into a <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> that can be used within Godot. If successfully parsed, use <a class=\"reference internal\" href=\"#class-json-property-data\"><span class=\"std std-ref\">data</span></a> to retrieve the <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, and use <a class=\"reference internal\" href=\"../class_&#64;globalscope/#class-globalscope-method-typeof\"><span class=\"std std-ref\">&#64;GlobalScope.typeof()</span></a> to check if the Variant's type is what you expect. JSON Objects are converted into a <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>, but JSON data can be used to store <a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a>s, numbers, <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>s and even just a boolean.</p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">data_to_send</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">&quot;a&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">&quot;b&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">&quot;c&quot;</span><span class=\"p\">]</span>\n<span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">json_string</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">JSON</span><span class=\"o\">.</span><span class=\"nf\">stringify</span><span class=\"p\">(</span><span class=\"n\">data_to_send</span><span class=\"p\">)</span>\n<span class=\"c1\"># Save data</span>\n<span class=\"c1\"># ...</span>\n<span class=\"c1\"># Retrieve data</span>\n<span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">json</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">JSON</span><span class=\"o\">.</span><span class=\"nf\">new</span><span class=\"p\">()</span>\n<span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"nf\">parse</span><span class=\"p\">(</span><span class=\"n\">json_string</span><span class=\"p\">)</span>\n<span class=\"k k-ControlFlow\">if</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"n\">OK</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">data_received</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"vi\">data</span>\n<span class=\"w\">    </span><span class=\"k k-ControlFlow\">if</span><span class=\"w\"> </span><span class=\"nb nb-Function\">typeof</span><span class=\"p\">(</span><span class=\"n\">data_received</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"n\">TYPE_ARRAY</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nb nb-Function\">print</span><span class=\"p\">(</span><span class=\"n\">data_received</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"c1\"># Prints the array.</span>\n<span class=\"w\">    </span><span class=\"k k-ControlFlow\">else</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nb nb-Function\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;Unexpected data&quot;</span><span class=\"p\">)</span>\n<span class=\"k k-ControlFlow\">else</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"nb nb-Function\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;JSON Parse Error: &quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"nf\">get_error_message</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"s2\">&quot; in &quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">json_string</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">&quot; at line &quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">json</span><span class=\"o\">.</span><span class=\"nf\">get_error_line</span><span class=\"p\">())</span>\n</pre></div>\n</div>\n<p>Alternatively, you can parse strings using the static <a class=\"reference internal\" href=\"#class-json-method-parse-string\"><span class=\"std std-ref\">parse_string()</span></a> method, but it doesn't handle errors.</p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">data</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">JSON</span><span class=\"o\">.</span><span class=\"nf\">parse_string</span><span class=\"p\">(</span><span class=\"n\">json_string</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"c1\"># Returns null if parsing failed.</span>\n</pre></div>\n</div>\n<p><strong>Note:</strong> Both parse methods do not fully comply with the JSON specification:</p>\n<ul class=\"simple\">\n<li><p>Trailing commas in arrays or objects are ignored, instead of causing a parser error.</p></li>\n<li><p>New line and tab characters are accepted in string literals, and are treated like their corresponding escape sequences <code class=\"docutils literal notranslate\"><span class=\"pre\">\\n</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">\\t</span></code>.</p></li>\n<li><p>Numbers are parsed using <a class=\"reference internal\" href=\"../class_string/#class-string-method-to-float\"><span class=\"std std-ref\">String.to_float()</span></a> which is generally more lax than the JSON specification.</p></li>\n<li><p>Certain errors, such as invalid Unicode sequences, do not cause a parser error. Instead, the string is cleaned up and an error is logged to the console.</p></li>\n</ul>\n</section>\n<section class=\"classref-reftable-group\" id=\"properties\">\n<h2>Properties<a class=\"headerlink\" href=\"#properties\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-json-property-data\"><span class=\"std std-ref\">data</span></a></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">null</span></code></p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<section class=\"classref-reftable-group\" id=\"methods\">\n<h2>Methods<a class=\"headerlink\" href=\"#methods\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-json-method-from-native\"><span class=\"std std-ref\">from_native</span></a>(variant: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, full_objects: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false) <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-json-method-get-error-line\"><span class=\"std std-ref\">get_error_line</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-json-method-get-error-message\"><span class=\"std std-ref\">get_error_message</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-json-method-get-parsed-text\"><span class=\"std std-ref\">get_parsed_text</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-json-method-parse\"><span class=\"std std-ref\">parse</span></a>(json_text: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, keep_text: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-json-method-parse-string\"><span class=\"std std-ref\">parse_string</span></a>(json_string: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>) <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-json-method-stringify\"><span class=\"std std-ref\">stringify</span></a>(data: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, indent: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;&quot;, sort_keys: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = true, full_precision: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false) <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-json-method-to-native\"><span class=\"std std-ref\">to_native</span></a>(json: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, allow_objects: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false) <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr></p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"property-descriptions\">\n<h2>Property Descriptions<a class=\"headerlink\" href=\"#property-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-property\" id=\"class-json-property-data\"><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> <strong>data</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">null</span></code> <a class=\"reference internal\" href=\"#class-json-property-data\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<ul class=\"classref-property-setget simple\">\n<li><p><abbr title=\"No return value.\">void</abbr> <strong>set_data</strong>(value: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>)</p></li>\n<li><p><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> <strong>get_data</strong>()</p></li>\n</ul>\n<p>Contains the parsed JSON data in <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> form.</p>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"method-descriptions\">\n<h2>Method Descriptions<a class=\"headerlink\" href=\"#method-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-method\" id=\"class-json-method-from-native\"><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> <strong>from_native</strong>(variant: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, full_objects: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false) <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr> <a class=\"reference internal\" href=\"#class-json-method-from-native\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Converts a native engine type to a JSON-compliant value.</p>\n<p>By default, objects are ignored for security reasons, unless <code class=\"docutils literal notranslate\"><span class=\"pre\">full_objects</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code>.</p>\n<p>You can convert a native value to a JSON string like this:</p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">func</span><span class=\"w\"> </span><span class=\"nf nf-Declaration\">encode_data</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">full_objects</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"l\">false</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"k k-ControlFlow\">return</span><span class=\"w\"> </span><span class=\"nb\">JSON</span><span class=\"o\">.</span><span class=\"nf\">stringify</span><span class=\"p\">(</span><span class=\"nb\">JSON</span><span class=\"o\">.</span><span class=\"nf\">from_native</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">full_objects</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-json-method-get-error-line\"><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> <strong>get_error_line</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-json-method-get-error-line\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code> if the last call to <a class=\"reference internal\" href=\"#class-json-method-parse\"><span class=\"std std-ref\">parse()</span></a> was successful, or the line number where the parse failed.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-json-method-get-error-message\"><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> <strong>get_error_message</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-json-method-get-error-message\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns an empty string if the last call to <a class=\"reference internal\" href=\"#class-json-method-parse\"><span class=\"std std-ref\">parse()</span></a> was successful, or the error message if it failed.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-json-method-get-parsed-text\"><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> <strong>get_parsed_text</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-json-method-get-parsed-text\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Return the text parsed by <a class=\"reference internal\" href=\"#class-json-method-parse\"><span class=\"std std-ref\">parse()</span></a> (requires passing <code class=\"docutils literal notranslate\"><span class=\"pre\">keep_text</span></code> to <a class=\"reference internal\" href=\"#class-json-method-parse\"><span class=\"std std-ref\">parse()</span></a>).</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-json-method-parse\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>parse</strong>(json_text: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, keep_text: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false) <a class=\"reference internal\" href=\"#class-json-method-parse\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Attempts to parse the <code class=\"docutils literal notranslate\"><span class=\"pre\">json_text</span></code> provided.</p>\n<p>Returns an <a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a>. If the parse was successful, it returns <a class=\"reference internal\" href=\"../class_&#64;globalscope/#class-globalscope-constant-ok\"><span class=\"std std-ref\">&#64;GlobalScope.OK</span></a> and the result can be retrieved using <a class=\"reference internal\" href=\"#class-json-property-data\"><span class=\"std std-ref\">data</span></a>. If unsuccessful, use <a class=\"reference internal\" href=\"#class-json-method-get-error-line\"><span class=\"std std-ref\">get_error_line()</span></a> and <a class=\"reference internal\" href=\"#class-json-method-get-error-message\"><span class=\"std std-ref\">get_error_message()</span></a> to identify the source of the failure.</p>\n<p>Non-static variant of <a class=\"reference internal\" href=\"#class-json-method-parse-string\"><span class=\"std std-ref\">parse_string()</span></a>, if you want custom error handling.</p>\n<p>The optional <code class=\"docutils literal notranslate\"><span class=\"pre\">keep_text</span></code> argument instructs the parser to keep a copy of the original text. This text can be obtained later by using the <a class=\"reference internal\" href=\"#class-json-method-get-parsed-text\"><span class=\"std std-ref\">get_parsed_text()</span></a> function and is used when saving the resource (instead of generating new text from <a class=\"reference internal\" href=\"#class-json-property-data\"><span class=\"std std-ref\">data</span></a>).</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-json-method-parse-string\"><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> <strong>parse_string</strong>(json_string: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>) <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr> <a class=\"reference internal\" href=\"#class-json-method-parse-string\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Attempts to parse the <code class=\"docutils literal notranslate\"><span class=\"pre\">json_string</span></code> provided and returns the parsed data. Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">null</span></code> if parse failed.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-json-method-stringify\"><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> <strong>stringify</strong>(data: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, indent: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;&quot;, sort_keys: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = true, full_precision: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false) <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr> <a class=\"reference internal\" href=\"#class-json-method-stringify\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Converts a <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> var to JSON text and returns the result. Useful for serializing data to store or send over the network.</p>\n<p><strong>Note:</strong> The JSON specification does not define integer or float types, but only a <em>number</em> type. Therefore, converting a Variant to JSON text will convert all numerical values to <a class=\"reference internal\" href=\"../class_float/#class-float\"><span class=\"std std-ref\">float</span></a> types.</p>\n<p><strong>Note:</strong> If <code class=\"docutils literal notranslate\"><span class=\"pre\">full_precision</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code>, when stringifying floats, the unreliable digits are stringified in addition to the reliable digits to guarantee exact decoding.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">indent</span></code> parameter controls if and how something is indented; its contents will be used where there should be an indent in the output. Even spaces like <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;</span>&#160;&#160; <span class=\"pre\">&quot;</span></code> will work. <code class=\"docutils literal notranslate\"><span class=\"pre\">\\t</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">\\n</span></code> can also be used for a tab indent, or to make a newline for each indent respectively.</p>\n<p><strong>Warning:</strong> Non-finite numbers are not supported in JSON. Any occurrences of <a class=\"reference internal\" href=\"../class_&#64;gdscript/#class-gdscript-constant-inf\"><span class=\"std std-ref\">&#64;GDScript.INF</span></a> will be replaced with <code class=\"docutils literal notranslate\"><span class=\"pre\">1e99999</span></code>, and negative <a class=\"reference internal\" href=\"../class_&#64;gdscript/#class-gdscript-constant-inf\"><span class=\"std std-ref\">&#64;GDScript.INF</span></a> will be replaced with <code class=\"docutils literal notranslate\"><span class=\"pre\">-1e99999</span></code>, but they will be interpreted correctly as infinity by most JSON parsers. <a class=\"reference internal\" href=\"../class_&#64;gdscript/#class-gdscript-constant-nan\"><span class=\"std std-ref\">&#64;GDScript.NAN</span></a> will be replaced with <code class=\"docutils literal notranslate\"><span class=\"pre\">null</span></code>, and it will not be interpreted as NaN in JSON parsers. If you expect non-finite numbers, consider passing your data through <a class=\"reference internal\" href=\"#class-json-method-from-native\"><span class=\"std std-ref\">from_native()</span></a> first.</p>\n<p><strong>Example output:</strong></p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c c-Doc\">## JSON.stringify(my_dictionary)</span>\n<span class=\"p\">{</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;my_dictionary&quot;</span><span class=\"p\">,</span><span class=\"s2\">&quot;version&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;1.0.0&quot;</span><span class=\"p\">,</span><span class=\"s2\">&quot;entities&quot;</span><span class=\"p\">:[{</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;entity_0&quot;</span><span class=\"p\">,</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;value_0&quot;</span><span class=\"p\">},{</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;entity_1&quot;</span><span class=\"p\">,</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;value_1&quot;</span><span class=\"p\">}]}</span>\n\n<span class=\"c c-Doc\">## JSON.stringify(my_dictionary, &quot;\\t&quot;)</span>\n<span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;my_dictionary&quot;</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">&quot;version&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;1.0.0&quot;</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">&quot;entities&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">        </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;entity_0&quot;</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;value_0&quot;</span>\n<span class=\"w\">        </span><span class=\"p\">},</span>\n<span class=\"w\">        </span><span class=\"p\">{</span>\n<span class=\"w\">            </span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;entity_1&quot;</span><span class=\"p\">,</span>\n<span class=\"w\">            </span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;value_1&quot;</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">]</span>\n<span class=\"p\">}</span>\n\n<span class=\"c c-Doc\">## JSON.stringify(my_dictionary, &quot;...&quot;)</span>\n<span class=\"p\">{</span>\n<span class=\"o\">...</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;my_dictionary&quot;</span><span class=\"p\">,</span>\n<span class=\"o\">...</span><span class=\"s2\">&quot;version&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;1.0.0&quot;</span><span class=\"p\">,</span>\n<span class=\"o\">...</span><span class=\"s2\">&quot;entities&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"o\">......</span><span class=\"p\">{</span>\n<span class=\"o\">.........</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;entity_0&quot;</span><span class=\"p\">,</span>\n<span class=\"o\">.........</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;value_0&quot;</span>\n<span class=\"o\">......</span><span class=\"p\">},</span>\n<span class=\"o\">......</span><span class=\"p\">{</span>\n<span class=\"o\">.........</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;entity_1&quot;</span><span class=\"p\">,</span>\n<span class=\"o\">.........</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">&quot;value_1&quot;</span>\n<span class=\"o\">......</span><span class=\"p\">}</span>\n<span class=\"o\">...</span><span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-json-method-to-native\"><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> <strong>to_native</strong>(json: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, allow_objects: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false) <abbr title=\"This method doesn't need an instance to be called, so it can be called directly using the class name.\">static</abbr> <a class=\"reference internal\" href=\"#class-json-method-to-native\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Converts a JSON-compliant value that was created with <a class=\"reference internal\" href=\"#class-json-method-from-native\"><span class=\"std std-ref\">from_native()</span></a> back to native engine types.</p>\n<p>By default, objects are ignored for security reasons, unless <code class=\"docutils literal notranslate\"><span class=\"pre\">allow_objects</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code>.</p>\n<p>You can convert a JSON string back to a native value like this:</p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">func</span><span class=\"w\"> </span><span class=\"nf nf-Declaration\">decode_data</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">allow_objects</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"l\">false</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"k k-ControlFlow\">return</span><span class=\"w\"> </span><span class=\"nb\">JSON</span><span class=\"o\">.</span><span class=\"nf\">to_native</span><span class=\"p\">(</span><span class=\"nb\">JSON</span><span class=\"o\">.</span><span class=\"nf\">parse_string</span><span class=\"p\">(</span><span class=\"n\">string</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">allow_objects</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["classes/class_labelsettings", "LabelSettings", "N", "next"], ["classes/class_jointlimitationcone3d", "JointLimitationCone3D", "P", "previous"]], "sourcename": "classes/class_json.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">JSON</a><ul>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#properties\">Properties</a></li>\n<li><a class=\"reference internal\" href=\"#methods\">Methods</a></li>\n<li><a class=\"reference internal\" href=\"#property-descriptions\">Property Descriptions</a></li>\n<li><a class=\"reference internal\" href=\"#method-descriptions\">Method Descriptions</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "classes/class_json", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "sphinx_version_info": [8, 1, 3, "final", 0], "READTHEDOCS": false}