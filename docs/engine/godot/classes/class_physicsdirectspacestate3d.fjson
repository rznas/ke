{"parents": [{"link": "../", "title": "All classes"}], "prev": {"link": "../class_physicsdirectspacestate2dextension/", "title": "PhysicsDirectSpaceState2DExtension"}, "next": {"link": "../class_physicsdirectspacestate3dextension/", "title": "PhysicsDirectSpaceState3DExtension"}, "title": "PhysicsDirectSpaceState3D", "meta": {"github_url": "hide"}, "body": "<section id=\"physicsdirectspacestate3d\">\n<span id=\"class-physicsdirectspacestate3d\"></span><h1>PhysicsDirectSpaceState3D<a class=\"headerlink\" href=\"#physicsdirectspacestate3d\" title=\"Link to this heading\">\uf0c1</a></h1>\n<p><strong>Inherits:</strong> <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a></p>\n<p><strong>Inherited By:</strong> <a class=\"reference internal\" href=\"../class_physicsdirectspacestate3dextension/#class-physicsdirectspacestate3dextension\"><span class=\"std std-ref\">PhysicsDirectSpaceState3DExtension</span></a></p>\n<p>Provides direct access to a physics space in the <a class=\"reference internal\" href=\"../class_physicsserver3d/#class-physicsserver3d\"><span class=\"std std-ref\">PhysicsServer3D</span></a>.</p>\n<section class=\"classref-introduction-group\" id=\"description\">\n<h2>Description<a class=\"headerlink\" href=\"#description\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p>Provides direct access to a physics space in the <a class=\"reference internal\" href=\"../class_physicsserver3d/#class-physicsserver3d\"><span class=\"std std-ref\">PhysicsServer3D</span></a>. It's used mainly to do queries against objects and areas residing in a given space.</p>\n<p><strong>Note:</strong> This class is not meant to be instantiated directly. Use <a class=\"reference internal\" href=\"../class_world3d/#class-world3d-property-direct-space-state\"><span class=\"std std-ref\">World3D.direct_space_state</span></a> to get the world's physics 3D space state.</p>\n</section>\n<section class=\"classref-introduction-group\" id=\"tutorials\">\n<h2>Tutorials<a class=\"headerlink\" href=\"#tutorials\" title=\"Link to this heading\">\uf0c1</a></h2>\n<ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"../../tutorials/physics/physics_introduction/\"><span class=\"doc\">Physics introduction</span></a></p></li>\n<li><p><a class=\"reference internal\" href=\"../../tutorials/physics/ray-casting/\"><span class=\"doc\">Ray-casting</span></a></p></li>\n</ul>\n</section>\n<section class=\"classref-reftable-group\" id=\"methods\">\n<h2>Methods<a class=\"headerlink\" href=\"#methods\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_packedfloat32array/#class-packedfloat32array\"><span class=\"std std-ref\">PackedFloat32Array</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-cast-motion\"><span class=\"std std-ref\">cast_motion</span></a>(parameters: <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a>[<a class=\"reference internal\" href=\"../class_vector3/#class-vector3\"><span class=\"std std-ref\">Vector3</span></a>]</p></td>\n<td><p><a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-collide-shape\"><span class=\"std std-ref\">collide_shape</span></a>(parameters: <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a>, max_results: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 32)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-get-rest-info\"><span class=\"std std-ref\">get_rest_info</span></a>(parameters: <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a>[<a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>]</p></td>\n<td><p><a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-intersect-point\"><span class=\"std std-ref\">intersect_point</span></a>(parameters: <a class=\"reference internal\" href=\"../class_physicspointqueryparameters3d/#class-physicspointqueryparameters3d\"><span class=\"std std-ref\">PhysicsPointQueryParameters3D</span></a>, max_results: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 32)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-intersect-ray\"><span class=\"std std-ref\">intersect_ray</span></a>(parameters: <a class=\"reference internal\" href=\"../class_physicsrayqueryparameters3d/#class-physicsrayqueryparameters3d\"><span class=\"std std-ref\">PhysicsRayQueryParameters3D</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a>[<a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>]</p></td>\n<td><p><a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-intersect-shape\"><span class=\"std std-ref\">intersect_shape</span></a>(parameters: <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a>, max_results: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 32)</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"method-descriptions\">\n<h2>Method Descriptions<a class=\"headerlink\" href=\"#method-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-method\" id=\"class-physicsdirectspacestate3d-method-cast-motion\"><a class=\"reference internal\" href=\"../class_packedfloat32array/#class-packedfloat32array\"><span class=\"std std-ref\">PackedFloat32Array</span></a> <strong>cast_motion</strong>(parameters: <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a>) <a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-cast-motion\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Checks how far a <a class=\"reference internal\" href=\"../class_shape3d/#class-shape3d\"><span class=\"std std-ref\">Shape3D</span></a> can move without colliding. All the parameters for the query, including the shape and the motion, are supplied through a <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a> object.</p>\n<p>Returns an array with the safe and unsafe proportions (between 0 and 1) of the motion. The safe proportion is the maximum fraction of the motion that can be made without a collision. The unsafe proportion is the minimum fraction of the distance that must be moved for a collision. If no collision is detected a result of <code class=\"docutils literal notranslate\"><span class=\"pre\">[1.0,</span> <span class=\"pre\">1.0]</span></code> will be returned.</p>\n<p><strong>Note:</strong> Any <a class=\"reference internal\" href=\"../class_shape3d/#class-shape3d\"><span class=\"std std-ref\">Shape3D</span></a>s that the shape is already colliding with e.g. inside of, will be ignored. Use <a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-collide-shape\"><span class=\"std std-ref\">collide_shape()</span></a> to determine the <a class=\"reference internal\" href=\"../class_shape3d/#class-shape3d\"><span class=\"std std-ref\">Shape3D</span></a>s that the shape is already colliding with.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-physicsdirectspacestate3d-method-collide-shape\"><a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a>[<a class=\"reference internal\" href=\"../class_vector3/#class-vector3\"><span class=\"std std-ref\">Vector3</span></a>] <strong>collide_shape</strong>(parameters: <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a>, max_results: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 32) <a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-collide-shape\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Checks the intersections of a shape, given through a <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a> object, against the space. The resulting array contains a list of points where the shape intersects another. Like with <a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-intersect-shape\"><span class=\"std std-ref\">intersect_shape()</span></a>, the number of returned results can be limited to save processing time.</p>\n<p>Returned points are a list of pairs of contact points. For each pair the first one is in the shape passed in <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a> object, second one is in the collided shape from the physics space.</p>\n<p><strong>Note:</strong> This method does not take into account the <code class=\"docutils literal notranslate\"><span class=\"pre\">motion</span></code> property of the object.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-physicsdirectspacestate3d-method-get-rest-info\"><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a> <strong>get_rest_info</strong>(parameters: <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a>) <a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-get-rest-info\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Checks the intersections of a shape, given through a <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a> object, against the space. If it collides with more than one shape, the nearest one is selected. The returned object is a dictionary containing the following fields:</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">collider_id</span></code>: The colliding object's ID.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">linear_velocity</span></code>: The colliding object's velocity <a class=\"reference internal\" href=\"../class_vector3/#class-vector3\"><span class=\"std std-ref\">Vector3</span></a>. If the object is an <a class=\"reference internal\" href=\"../class_area3d/#class-area3d\"><span class=\"std std-ref\">Area3D</span></a>, the result is <code class=\"docutils literal notranslate\"><span class=\"pre\">(0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0)</span></code>.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">normal</span></code>: The collision normal of the query shape at the intersection point, pointing away from the intersecting object.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">point</span></code>: The intersection point.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">rid</span></code>: The intersecting object's <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a>.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">shape</span></code>: The shape index of the colliding shape.</p>\n<p>If the shape did not intersect anything, then an empty dictionary is returned instead.</p>\n<p><strong>Note:</strong> This method does not take into account the <code class=\"docutils literal notranslate\"><span class=\"pre\">motion</span></code> property of the object.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-physicsdirectspacestate3d-method-intersect-point\"><a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a>[<a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>] <strong>intersect_point</strong>(parameters: <a class=\"reference internal\" href=\"../class_physicspointqueryparameters3d/#class-physicspointqueryparameters3d\"><span class=\"std std-ref\">PhysicsPointQueryParameters3D</span></a>, max_results: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 32) <a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-intersect-point\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Checks whether a point is inside any solid shape. Position and other parameters are defined through <a class=\"reference internal\" href=\"../class_physicspointqueryparameters3d/#class-physicspointqueryparameters3d\"><span class=\"std std-ref\">PhysicsPointQueryParameters3D</span></a>. The shapes the point is inside of are returned in an array containing dictionaries with the following fields:</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">collider</span></code>: The colliding object.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">collider_id</span></code>: The colliding object's ID.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">rid</span></code>: The intersecting object's <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a>.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">shape</span></code>: The shape index of the colliding shape.</p>\n<p>The number of intersections can be limited with the <code class=\"docutils literal notranslate\"><span class=\"pre\">max_results</span></code> parameter, to reduce the processing time.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-physicsdirectspacestate3d-method-intersect-ray\"><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a> <strong>intersect_ray</strong>(parameters: <a class=\"reference internal\" href=\"../class_physicsrayqueryparameters3d/#class-physicsrayqueryparameters3d\"><span class=\"std std-ref\">PhysicsRayQueryParameters3D</span></a>) <a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-intersect-ray\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Intersects a ray in a given space. Ray position and other parameters are defined through <a class=\"reference internal\" href=\"../class_physicsrayqueryparameters3d/#class-physicsrayqueryparameters3d\"><span class=\"std std-ref\">PhysicsRayQueryParameters3D</span></a>. The returned object is a dictionary with the following fields:</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">collider</span></code>: The colliding object.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">collider_id</span></code>: The colliding object's ID.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">normal</span></code>: The object's surface normal at the intersection point, or <code class=\"docutils literal notranslate\"><span class=\"pre\">Vector3(0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0)</span></code> if the ray starts inside the shape and <a class=\"reference internal\" href=\"../class_physicsrayqueryparameters3d/#class-physicsrayqueryparameters3d-property-hit-from-inside\"><span class=\"std std-ref\">PhysicsRayQueryParameters3D.hit_from_inside</span></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code>.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">position</span></code>: The intersection point.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">face_index</span></code>: The face index at the intersection point.</p>\n<p><strong>Note:</strong> Returns a valid number only if the intersected shape is a <a class=\"reference internal\" href=\"../class_concavepolygonshape3d/#class-concavepolygonshape3d\"><span class=\"std std-ref\">ConcavePolygonShape3D</span></a>. Otherwise, <code class=\"docutils literal notranslate\"><span class=\"pre\">-1</span></code> is returned.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">rid</span></code>: The intersecting object's <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a>.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">shape</span></code>: The shape index of the colliding shape.</p>\n<p>If the ray did not intersect anything, then an empty dictionary is returned instead.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-physicsdirectspacestate3d-method-intersect-shape\"><a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a>[<a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>] <strong>intersect_shape</strong>(parameters: <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a>, max_results: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 32) <a class=\"reference internal\" href=\"#class-physicsdirectspacestate3d-method-intersect-shape\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Checks the intersections of a shape, given through a <a class=\"reference internal\" href=\"../class_physicsshapequeryparameters3d/#class-physicsshapequeryparameters3d\"><span class=\"std std-ref\">PhysicsShapeQueryParameters3D</span></a> object, against the space. The intersected shapes are returned in an array containing dictionaries with the following fields:</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">collider</span></code>: The colliding object.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">collider_id</span></code>: The colliding object's ID.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">rid</span></code>: The intersecting object's <a class=\"reference internal\" href=\"../class_rid/#class-rid\"><span class=\"std std-ref\">RID</span></a>.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">shape</span></code>: The shape index of the colliding shape.</p>\n<p>The number of intersections can be limited with the <code class=\"docutils literal notranslate\"><span class=\"pre\">max_results</span></code> parameter, to reduce the processing time.</p>\n<p><strong>Note:</strong> This method does not take into account the <code class=\"docutils literal notranslate\"><span class=\"pre\">motion</span></code> property of the object.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["classes/class_physicsdirectspacestate3dextension", "PhysicsDirectSpaceState3DExtension", "N", "next"], ["classes/class_physicsdirectspacestate2dextension", "PhysicsDirectSpaceState2DExtension", "P", "previous"]], "sourcename": "classes/class_physicsdirectspacestate3d.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">PhysicsDirectSpaceState3D</a><ul>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#tutorials\">Tutorials</a></li>\n<li><a class=\"reference internal\" href=\"#methods\">Methods</a></li>\n<li><a class=\"reference internal\" href=\"#method-descriptions\">Method Descriptions</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "classes/class_physicsdirectspacestate3d", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "sphinx_version_info": [8, 1, 3, "final", 0], "READTHEDOCS": false}