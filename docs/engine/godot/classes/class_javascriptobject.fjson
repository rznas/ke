{"parents": [{"link": "../", "title": "All classes"}], "prev": {"link": "../class_javascriptbridge/", "title": "JavaScriptBridge"}, "next": {"link": "../class_jnisingleton/", "title": "JNISingleton"}, "title": "JavaScriptObject", "meta": {"github_url": "hide"}, "body": "<section id=\"javascriptobject\">\n<span id=\"class-javascriptobject\"></span><h1>JavaScriptObject<a class=\"headerlink\" href=\"#javascriptobject\" title=\"Link to this heading\">\uf0c1</a></h1>\n<p><strong>Inherits:</strong> <a class=\"reference internal\" href=\"../class_refcounted/#class-refcounted\"><span class=\"std std-ref\">RefCounted</span></a> <strong>&lt;</strong> <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a></p>\n<p>A wrapper class for web native JavaScript objects.</p>\n<section class=\"classref-introduction-group\" id=\"description\">\n<h2>Description<a class=\"headerlink\" href=\"#description\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p>JavaScriptObject is used to interact with JavaScript objects retrieved or created via <a class=\"reference internal\" href=\"../class_javascriptbridge/#class-javascriptbridge-method-get-interface\"><span class=\"std std-ref\">JavaScriptBridge.get_interface()</span></a>, <a class=\"reference internal\" href=\"../class_javascriptbridge/#class-javascriptbridge-method-create-object\"><span class=\"std std-ref\">JavaScriptBridge.create_object()</span></a>, or <a class=\"reference internal\" href=\"../class_javascriptbridge/#class-javascriptbridge-method-create-callback\"><span class=\"std std-ref\">JavaScriptBridge.create_callback()</span></a>.</p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">extends</span><span class=\"w\"> </span><span class=\"nb\">Node</span>\n\n<span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">_my_js_callback</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">JavaScriptBridge</span><span class=\"o\">.</span><span class=\"nf\">create_callback</span><span class=\"p\">(</span><span class=\"n\">myCallback</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"c1\"># This reference must be kept</span>\n<span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">console</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">JavaScriptBridge</span><span class=\"o\">.</span><span class=\"nf\">get_interface</span><span class=\"p\">(</span><span class=\"s2\">&quot;console&quot;</span><span class=\"p\">)</span>\n\n<span class=\"k\">func</span><span class=\"w\"> </span><span class=\"nf nf-Declaration\">_init</span><span class=\"p\">():</span>\n<span class=\"w\">    </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">buf</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">JavaScriptBridge</span><span class=\"o\">.</span><span class=\"nf\">create_object</span><span class=\"p\">(</span><span class=\"s2\">&quot;ArrayBuffer&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"c1\"># new ArrayBuffer(10)</span>\n<span class=\"w\">    </span><span class=\"nb nb-Function\">print</span><span class=\"p\">(</span><span class=\"n\">buf</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"c1\"># Prints [JavaScriptObject:OBJECT_ID]</span>\n<span class=\"w\">    </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">uint8arr</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">JavaScriptBridge</span><span class=\"o\">.</span><span class=\"nf\">create_object</span><span class=\"p\">(</span><span class=\"s2\">&quot;Uint8Array&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">buf</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"c1\"># new Uint8Array(buf)</span>\n<span class=\"w\">    </span><span class=\"n\">uint8arr</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">255</span>\n<span class=\"w\">    </span><span class=\"nb nb-Function\">prints</span><span class=\"p\">(</span><span class=\"n\">uint8arr</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">],</span><span class=\"w\"> </span><span class=\"n\">uint8arr</span><span class=\"o\">.</span><span class=\"vi\">byteLength</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"c1\"># Prints &quot;255 10&quot;</span>\n\n<span class=\"w\">    </span><span class=\"c1\"># Prints &quot;Uint8Array(10) [ 0, 255, 0, 0, 0, 0, 0, 0, 0, 0 ]&quot; in the browser&#39;s console.</span>\n<span class=\"w\">    </span><span class=\"n\">console</span><span class=\"o\">.</span><span class=\"nf\">log</span><span class=\"p\">(</span><span class=\"n\">uint8arr</span><span class=\"p\">)</span>\n\n<span class=\"w\">    </span><span class=\"c1\"># Equivalent of JavaScriptBridge: Array.from(uint8arr).forEach(myCallback)</span>\n<span class=\"w\">    </span><span class=\"nb\">JavaScriptBridge</span><span class=\"o\">.</span><span class=\"nf\">get_interface</span><span class=\"p\">(</span><span class=\"s2\">&quot;Array&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"nf\">from</span><span class=\"p\">(</span><span class=\"n\">uint8arr</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"nf\">forEach</span><span class=\"p\">(</span><span class=\"n\">_my_js_callback</span><span class=\"p\">)</span>\n\n<span class=\"k\">func</span><span class=\"w\"> </span><span class=\"nf nf-Declaration\">myCallback</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"c1\"># Will be called with the parameters passed to the &quot;forEach&quot; callback</span>\n<span class=\"w\">    </span><span class=\"c1\"># [0, 0, [JavaScriptObject:1173]]</span>\n<span class=\"w\">    </span><span class=\"c1\"># [255, 1, [JavaScriptObject:1173]]</span>\n<span class=\"w\">    </span><span class=\"c1\"># ...</span>\n<span class=\"w\">    </span><span class=\"c1\"># [0, 9, [JavaScriptObject:1180]]</span>\n<span class=\"w\">    </span><span class=\"nb nb-Function\">print</span><span class=\"p\">(</span><span class=\"n\">args</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p><strong>Note:</strong> Only available in the Web platform.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["classes/class_jnisingleton", "JNISingleton", "N", "next"], ["classes/class_javascriptbridge", "JavaScriptBridge", "P", "previous"]], "sourcename": "classes/class_javascriptobject.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">JavaScriptObject</a><ul>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "classes/class_javascriptobject", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "sphinx_version_info": [8, 1, 3, "final", 0], "READTHEDOCS": false}