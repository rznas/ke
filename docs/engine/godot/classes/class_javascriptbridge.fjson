{"parents": [{"link": "../", "title": "All classes"}], "prev": {"link": "../class_javaobject/", "title": "JavaObject"}, "next": {"link": "../class_javascriptobject/", "title": "JavaScriptObject"}, "title": "JavaScriptBridge", "meta": {"github_url": "hide"}, "body": "<section id=\"javascriptbridge\">\n<span id=\"class-javascriptbridge\"></span><h1>JavaScriptBridge<a class=\"headerlink\" href=\"#javascriptbridge\" title=\"Link to this heading\">\uf0c1</a></h1>\n<p><strong>Inherits:</strong> <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a></p>\n<p>Singleton that connects the engine with the browser's JavaScript context in Web export.</p>\n<section class=\"classref-introduction-group\" id=\"description\">\n<h2>Description<a class=\"headerlink\" href=\"#description\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p>The JavaScriptBridge singleton is implemented only in the Web export. It's used to access the browser's JavaScript context. This allows interaction with embedding pages or calling third-party JavaScript APIs.</p>\n<p><strong>Note:</strong> This singleton can be disabled at build-time to improve security. By default, the JavaScriptBridge singleton is enabled. Official export templates also have the JavaScriptBridge singleton enabled. See <a class=\"reference internal\" href=\"../../engine_details/development/compiling/compiling_for_web/\"><span class=\"doc\">Compiling for the Web</span></a> in the documentation for more information.</p>\n</section>\n<section class=\"classref-introduction-group\" id=\"tutorials\">\n<h2>Tutorials<a class=\"headerlink\" href=\"#tutorials\" title=\"Link to this heading\">\uf0c1</a></h2>\n<ul class=\"simple\">\n<li><p><a class=\"reference internal\" href=\"../../tutorials/platform/web/javascript_bridge/\"><span class=\"doc\">The JavaScriptBridge singleton</span></a></p></li>\n</ul>\n</section>\n<section class=\"classref-reftable-group\" id=\"methods\">\n<h2>Methods<a class=\"headerlink\" href=\"#methods\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-javascriptbridge-method-create-callback\"><span class=\"std std-ref\">create_callback</span></a>(callable: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-javascriptbridge-method-create-object\"><span class=\"std std-ref\">create_object</span></a>(object: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, ...) <abbr title=\"This method accepts any number of arguments after the ones described here.\">vararg</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-javascriptbridge-method-download-buffer\"><span class=\"std std-ref\">download_buffer</span></a>(buffer: <a class=\"reference internal\" href=\"../class_packedbytearray/#class-packedbytearray\"><span class=\"std std-ref\">PackedByteArray</span></a>, name: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, mime: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;application/octet-stream&quot;)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-javascriptbridge-method-eval\"><span class=\"std std-ref\">eval</span></a>(code: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, use_global_execution_context: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-javascriptbridge-method-force-fs-sync\"><span class=\"std std-ref\">force_fs_sync</span></a>()</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-javascriptbridge-method-get-interface\"><span class=\"std std-ref\">get_interface</span></a>(interface: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-javascriptbridge-method-is-js-buffer\"><span class=\"std std-ref\">is_js_buffer</span></a>(javascript_object: <a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_packedbytearray/#class-packedbytearray\"><span class=\"std std-ref\">PackedByteArray</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-javascriptbridge-method-js-buffer-to-packed-byte-array\"><span class=\"std std-ref\">js_buffer_to_packed_byte_array</span></a>(javascript_buffer: <a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a>)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-javascriptbridge-method-pwa-needs-update\"><span class=\"std std-ref\">pwa_needs_update</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-javascriptbridge-method-pwa-update\"><span class=\"std std-ref\">pwa_update</span></a>()</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"signals\">\n<h2>Signals<a class=\"headerlink\" href=\"#signals\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-signal\" id=\"class-javascriptbridge-signal-pwa-update-available\"><strong>pwa_update_available</strong>() <a class=\"reference internal\" href=\"#class-javascriptbridge-signal-pwa-update-available\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Emitted when an update for this progressive web app has been detected but is waiting to be activated because a previous version is active. See <a class=\"reference internal\" href=\"#class-javascriptbridge-method-pwa-update\"><span class=\"std std-ref\">pwa_update()</span></a> to force the update to take place immediately.</p>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"method-descriptions\">\n<h2>Method Descriptions<a class=\"headerlink\" href=\"#method-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-method\" id=\"class-javascriptbridge-method-create-callback\"><a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a> <strong>create_callback</strong>(callable: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a>) <a class=\"reference internal\" href=\"#class-javascriptbridge-method-create-callback\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Creates a reference to a <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a> that can be used as a callback by JavaScript. The reference must be kept until the callback happens, or it won't be called at all. See <a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a> for usage.</p>\n<p><strong>Note:</strong> The callback function must take exactly one <a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a> argument, which is going to be the JavaScript <a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments\">arguments object</a> converted to an array.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-javascriptbridge-method-create-object\"><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> <strong>create_object</strong>(object: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, ...) <abbr title=\"This method accepts any number of arguments after the ones described here.\">vararg</abbr> <a class=\"reference internal\" href=\"#class-javascriptbridge-method-create-object\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Creates a new JavaScript object using the <code class=\"docutils literal notranslate\"><span class=\"pre\">new</span></code> constructor. The <code class=\"docutils literal notranslate\"><span class=\"pre\">object</span></code> must a valid property of the JavaScript <code class=\"docutils literal notranslate\"><span class=\"pre\">window</span></code>. See <a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a> for usage.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-javascriptbridge-method-download-buffer\"><abbr title=\"No return value.\">void</abbr> <strong>download_buffer</strong>(buffer: <a class=\"reference internal\" href=\"../class_packedbytearray/#class-packedbytearray\"><span class=\"std std-ref\">PackedByteArray</span></a>, name: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, mime: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;application/octet-stream&quot;) <a class=\"reference internal\" href=\"#class-javascriptbridge-method-download-buffer\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Prompts the user to download a file containing the specified <code class=\"docutils literal notranslate\"><span class=\"pre\">buffer</span></code>. The file will have the given <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">mime</span></code> type.</p>\n<p><strong>Note:</strong> The browser may override the <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Media_type\">MIME type</a> provided based on the file <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code>'s extension.</p>\n<p><strong>Note:</strong> Browsers might block the download if <a class=\"reference internal\" href=\"#class-javascriptbridge-method-download-buffer\"><span class=\"std std-ref\">download_buffer()</span></a> is not being called from a user interaction (e.g. button click).</p>\n<p><strong>Note:</strong> Browsers might ask the user for permission or block the download if multiple download requests are made in a quick succession.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-javascriptbridge-method-eval\"><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> <strong>eval</strong>(code: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, use_global_execution_context: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false) <a class=\"reference internal\" href=\"#class-javascriptbridge-method-eval\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Execute the string <code class=\"docutils literal notranslate\"><span class=\"pre\">code</span></code> as JavaScript code within the browser window. This is a call to the actual global JavaScript function <code class=\"docutils literal notranslate\"><span class=\"pre\">eval()</span></code>.</p>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">use_global_execution_context</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code>, the code will be evaluated in the global execution context. Otherwise, it is evaluated in the execution context of a function within the engine's runtime environment.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-javascriptbridge-method-force-fs-sync\"><abbr title=\"No return value.\">void</abbr> <strong>force_fs_sync</strong>() <a class=\"reference internal\" href=\"#class-javascriptbridge-method-force-fs-sync\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Force synchronization of the persistent file system (when enabled).</p>\n<p><strong>Note:</strong> This is only useful for modules or extensions that can't use <a class=\"reference internal\" href=\"../class_fileaccess/#class-fileaccess\"><span class=\"std std-ref\">FileAccess</span></a> to write files.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-javascriptbridge-method-get-interface\"><a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a> <strong>get_interface</strong>(interface: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>) <a class=\"reference internal\" href=\"#class-javascriptbridge-method-get-interface\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns an interface to a JavaScript object that can be used by scripts. The <code class=\"docutils literal notranslate\"><span class=\"pre\">interface</span></code> must be a valid property of the JavaScript <code class=\"docutils literal notranslate\"><span class=\"pre\">window</span></code>. The callback must accept a single <a class=\"reference internal\" href=\"../class_array/#class-array\"><span class=\"std std-ref\">Array</span></a> argument, which will contain the JavaScript <code class=\"docutils literal notranslate\"><span class=\"pre\">arguments</span></code>. See <a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a> for usage.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-javascriptbridge-method-is-js-buffer\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>is_js_buffer</strong>(javascript_object: <a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a>) <a class=\"reference internal\" href=\"#class-javascriptbridge-method-is-js-buffer\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if the given <code class=\"docutils literal notranslate\"><span class=\"pre\">javascript_object</span></code> is of type <a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\">[code]ArrayBuffer[/code]</a>, <a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\">[code]DataView[/code]</a>, or one of the many <a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\">typed array objects</a>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-javascriptbridge-method-js-buffer-to-packed-byte-array\"><a class=\"reference internal\" href=\"../class_packedbytearray/#class-packedbytearray\"><span class=\"std std-ref\">PackedByteArray</span></a> <strong>js_buffer_to_packed_byte_array</strong>(javascript_buffer: <a class=\"reference internal\" href=\"../class_javascriptobject/#class-javascriptobject\"><span class=\"std std-ref\">JavaScriptObject</span></a>) <a class=\"reference internal\" href=\"#class-javascriptbridge-method-js-buffer-to-packed-byte-array\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns a copy of <code class=\"docutils literal notranslate\"><span class=\"pre\">javascript_buffer</span></code>'s contents as a <a class=\"reference internal\" href=\"../class_packedbytearray/#class-packedbytearray\"><span class=\"std std-ref\">PackedByteArray</span></a>. See also <a class=\"reference internal\" href=\"#class-javascriptbridge-method-is-js-buffer\"><span class=\"std std-ref\">is_js_buffer()</span></a>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-javascriptbridge-method-pwa-needs-update\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>pwa_needs_update</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-javascriptbridge-method-pwa-needs-update\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if a new version of the progressive web app is waiting to be activated.</p>\n<p><strong>Note:</strong> Only relevant when exported as a Progressive Web App.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-javascriptbridge-method-pwa-update\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>pwa_update</strong>() <a class=\"reference internal\" href=\"#class-javascriptbridge-method-pwa-update\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Performs the live update of the progressive web app. Forcing the new version to be installed and the page to be reloaded.</p>\n<p><strong>Note:</strong> Your application will be <strong>reloaded in all browser tabs</strong>.</p>\n<p><strong>Note:</strong> Only relevant when exported as a Progressive Web App and <a class=\"reference internal\" href=\"#class-javascriptbridge-method-pwa-needs-update\"><span class=\"std std-ref\">pwa_needs_update()</span></a> returns <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code>.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["classes/class_javascriptobject", "JavaScriptObject", "N", "next"], ["classes/class_javaobject", "JavaObject", "P", "previous"]], "sourcename": "classes/class_javascriptbridge.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">JavaScriptBridge</a><ul>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#tutorials\">Tutorials</a></li>\n<li><a class=\"reference internal\" href=\"#methods\">Methods</a></li>\n<li><a class=\"reference internal\" href=\"#signals\">Signals</a></li>\n<li><a class=\"reference internal\" href=\"#method-descriptions\">Method Descriptions</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "classes/class_javascriptbridge", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "sphinx_version_info": [8, 1, 3, "final", 0], "READTHEDOCS": false}