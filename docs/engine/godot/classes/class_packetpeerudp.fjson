{"parents": [{"link": "../", "title": "All classes"}], "prev": {"link": "../class_packetpeerstream/", "title": "PacketPeerStream"}, "next": {"link": "../class_pckpacker/", "title": "PCKPacker"}, "title": "PacketPeerUDP", "meta": {"github_url": "hide"}, "body": "<section id=\"packetpeerudp\">\n<span id=\"class-packetpeerudp\"></span><h1>PacketPeerUDP<a class=\"headerlink\" href=\"#packetpeerudp\" title=\"Link to this heading\">\uf0c1</a></h1>\n<p><strong>Inherits:</strong> <a class=\"reference internal\" href=\"../class_packetpeer/#class-packetpeer\"><span class=\"std std-ref\">PacketPeer</span></a> <strong>&lt;</strong> <a class=\"reference internal\" href=\"../class_refcounted/#class-refcounted\"><span class=\"std std-ref\">RefCounted</span></a> <strong>&lt;</strong> <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a></p>\n<p>UDP packet peer.</p>\n<section class=\"classref-introduction-group\" id=\"description\">\n<h2>Description<a class=\"headerlink\" href=\"#description\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p>UDP packet peer. Can be used to send and receive raw UDP packets as well as <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>s.</p>\n<p><strong>Example:</strong> Send a packet:</p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">peer</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">PacketPeerUDP</span><span class=\"o\">.</span><span class=\"nf\">new</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Optionally, you can select the local port used to send the packet.</span>\n<span class=\"n\">peer</span><span class=\"o\">.</span><span class=\"nf\">bind</span><span class=\"p\">(</span><span class=\"mi\">4444</span><span class=\"p\">)</span>\n\n<span class=\"n\">peer</span><span class=\"o\">.</span><span class=\"nf\">set_dest_address</span><span class=\"p\">(</span><span class=\"s2\">&quot;1.1.1.1&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">4433</span><span class=\"p\">)</span>\n<span class=\"n\">peer</span><span class=\"o\">.</span><span class=\"nf\">put_packet</span><span class=\"p\">(</span><span class=\"s2\">&quot;hello&quot;</span><span class=\"o\">.</span><span class=\"nf\">to_utf8_buffer</span><span class=\"p\">())</span>\n</pre></div>\n</div>\n<p><strong>Example:</strong> Listen for packets:</p>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">peer</span>\n\n<span class=\"k\">func</span><span class=\"w\"> </span><span class=\"nf nf-Declaration\">_ready</span><span class=\"p\">():</span>\n<span class=\"w\">    </span><span class=\"n\">peer</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">PacketPeerUDP</span><span class=\"o\">.</span><span class=\"nf\">new</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"n\">peer</span><span class=\"o\">.</span><span class=\"nf\">bind</span><span class=\"p\">(</span><span class=\"mi\">4433</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">func</span><span class=\"w\"> </span><span class=\"nf nf-Declaration\">_process</span><span class=\"p\">(</span><span class=\"n\">_delta</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"k k-ControlFlow\">if</span><span class=\"w\"> </span><span class=\"n\">peer</span><span class=\"o\">.</span><span class=\"nf\">get_available_packet_count</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">array_bytes</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">peer</span><span class=\"o\">.</span><span class=\"nf\">get_packet</span><span class=\"p\">()</span>\n<span class=\"w\">        </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">packet_string</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">array_bytes</span><span class=\"o\">.</span><span class=\"nf\">get_string_from_ascii</span><span class=\"p\">()</span>\n<span class=\"w\">        </span><span class=\"nb nb-Function\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;Received message: &quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">packet_string</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p><strong>Note:</strong> When exporting to Android, make sure to enable the <code class=\"docutils literal notranslate\"><span class=\"pre\">INTERNET</span></code> permission in the Android export preset before exporting the project or using one-click deploy. Otherwise, network communication of any kind will be blocked by Android.</p>\n</section>\n<section class=\"classref-reftable-group\" id=\"methods\">\n<h2>Methods<a class=\"headerlink\" href=\"#methods\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-bind\"><span class=\"std std-ref\">bind</span></a>(port: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, bind_address: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;*&quot;, recv_buf_size: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 65536)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-close\"><span class=\"std std-ref\">close</span></a>()</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-connect-to-host\"><span class=\"std std-ref\">connect_to_host</span></a>(host: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, port: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-get-local-port\"><span class=\"std std-ref\">get_local_port</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-get-packet-ip\"><span class=\"std std-ref\">get_packet_ip</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-get-packet-port\"><span class=\"std std-ref\">get_packet_port</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-is-bound\"><span class=\"std std-ref\">is_bound</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-is-socket-connected\"><span class=\"std std-ref\">is_socket_connected</span></a>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-join-multicast-group\"><span class=\"std std-ref\">join_multicast_group</span></a>(multicast_address: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, interface_name: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-leave-multicast-group\"><span class=\"std std-ref\">leave_multicast_group</span></a>(multicast_address: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, interface_name: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-set-broadcast-enabled\"><span class=\"std std-ref\">set_broadcast_enabled</span></a>(enabled: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-set-dest-address\"><span class=\"std std-ref\">set_dest_address</span></a>(host: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, port: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-packetpeerudp-method-wait\"><span class=\"std std-ref\">wait</span></a>()</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"method-descriptions\">\n<h2>Method Descriptions<a class=\"headerlink\" href=\"#method-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-bind\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>bind</strong>(port: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, bind_address: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> = &quot;*&quot;, recv_buf_size: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> = 65536) <a class=\"reference internal\" href=\"#class-packetpeerudp-method-bind\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Binds this <strong>PacketPeerUDP</strong> to the specified <code class=\"docutils literal notranslate\"><span class=\"pre\">port</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">bind_address</span></code> with a buffer size <code class=\"docutils literal notranslate\"><span class=\"pre\">recv_buf_size</span></code>, allowing it to receive incoming packets.</p>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">bind_address</span></code> is set to <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;*&quot;</span></code> (default), the peer will be bound on all available addresses (both IPv4 and IPv6).</p>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">bind_address</span></code> is set to <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;0.0.0.0&quot;</span></code> (for IPv4) or <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;::&quot;</span></code> (for IPv6), the peer will be bound to all available addresses matching that IP type.</p>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">bind_address</span></code> is set to any valid address (e.g. <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;192.168.1.101&quot;</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;::1&quot;</span></code>, etc.), the peer will only be bound to the interface with that address (or fail if no interface with the given address exists).</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-close\"><abbr title=\"No return value.\">void</abbr> <strong>close</strong>() <a class=\"reference internal\" href=\"#class-packetpeerudp-method-close\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Closes the <strong>PacketPeerUDP</strong>'s underlying UDP socket.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-connect-to-host\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>connect_to_host</strong>(host: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, port: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>) <a class=\"reference internal\" href=\"#class-packetpeerudp-method-connect-to-host\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Calling this method connects this UDP peer to the given <code class=\"docutils literal notranslate\"><span class=\"pre\">host</span></code>/<code class=\"docutils literal notranslate\"><span class=\"pre\">port</span></code> pair. UDP is in reality connectionless, so this option only means that incoming packets from different addresses are automatically discarded, and that outgoing packets are always sent to the connected address (future calls to <a class=\"reference internal\" href=\"#class-packetpeerudp-method-set-dest-address\"><span class=\"std std-ref\">set_dest_address()</span></a> are not allowed). This method does not send any data to the remote peer, to do that, use <a class=\"reference internal\" href=\"../class_packetpeer/#class-packetpeer-method-put-var\"><span class=\"std std-ref\">PacketPeer.put_var()</span></a> or <a class=\"reference internal\" href=\"../class_packetpeer/#class-packetpeer-method-put-packet\"><span class=\"std std-ref\">PacketPeer.put_packet()</span></a> as usual. See also <a class=\"reference internal\" href=\"../class_udpserver/#class-udpserver\"><span class=\"std std-ref\">UDPServer</span></a>.</p>\n<p><strong>Note:</strong> Connecting to the remote peer does not help to protect from malicious attacks like IP spoofing, etc. Think about using an encryption technique like TLS or DTLS if you feel like your application is transferring sensitive information.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-get-local-port\"><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> <strong>get_local_port</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-packetpeerudp-method-get-local-port\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns the local port to which this peer is bound.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-get-packet-ip\"><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> <strong>get_packet_ip</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-packetpeerudp-method-get-packet-ip\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns the IP of the remote peer that sent the last packet(that was received with <a class=\"reference internal\" href=\"../class_packetpeer/#class-packetpeer-method-get-packet\"><span class=\"std std-ref\">PacketPeer.get_packet()</span></a> or <a class=\"reference internal\" href=\"../class_packetpeer/#class-packetpeer-method-get-var\"><span class=\"std std-ref\">PacketPeer.get_var()</span></a>).</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-get-packet-port\"><a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a> <strong>get_packet_port</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-packetpeerudp-method-get-packet-port\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns the port of the remote peer that sent the last packet(that was received with <a class=\"reference internal\" href=\"../class_packetpeer/#class-packetpeer-method-get-packet\"><span class=\"std std-ref\">PacketPeer.get_packet()</span></a> or <a class=\"reference internal\" href=\"../class_packetpeer/#class-packetpeer-method-get-var\"><span class=\"std std-ref\">PacketPeer.get_var()</span></a>).</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-is-bound\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>is_bound</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-packetpeerudp-method-is-bound\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns whether this <strong>PacketPeerUDP</strong> is bound to an address and can receive packets.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-is-socket-connected\"><a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> <strong>is_socket_connected</strong>() <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-packetpeerudp-method-is-socket-connected\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">true</span></code> if the UDP socket is open and has been connected to a remote address. See <a class=\"reference internal\" href=\"#class-packetpeerudp-method-connect-to-host\"><span class=\"std std-ref\">connect_to_host()</span></a>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-join-multicast-group\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>join_multicast_group</strong>(multicast_address: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, interface_name: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>) <a class=\"reference internal\" href=\"#class-packetpeerudp-method-join-multicast-group\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Joins the multicast group specified by <code class=\"docutils literal notranslate\"><span class=\"pre\">multicast_address</span></code> using the interface identified by <code class=\"docutils literal notranslate\"><span class=\"pre\">interface_name</span></code>.</p>\n<p>You can join the same multicast group with multiple interfaces. Use <a class=\"reference internal\" href=\"../class_ip/#class-ip-method-get-local-interfaces\"><span class=\"std std-ref\">IP.get_local_interfaces()</span></a> to know which are available.</p>\n<p><strong>Note:</strong> Some Android devices might require the <code class=\"docutils literal notranslate\"><span class=\"pre\">CHANGE_WIFI_MULTICAST_STATE</span></code> permission for multicast to work.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-leave-multicast-group\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>leave_multicast_group</strong>(multicast_address: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, interface_name: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>) <a class=\"reference internal\" href=\"#class-packetpeerudp-method-leave-multicast-group\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Removes the interface identified by <code class=\"docutils literal notranslate\"><span class=\"pre\">interface_name</span></code> from the multicast group specified by <code class=\"docutils literal notranslate\"><span class=\"pre\">multicast_address</span></code>.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-set-broadcast-enabled\"><abbr title=\"No return value.\">void</abbr> <strong>set_broadcast_enabled</strong>(enabled: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a>) <a class=\"reference internal\" href=\"#class-packetpeerudp-method-set-broadcast-enabled\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Enable or disable sending of broadcast packets (e.g. <code class=\"docutils literal notranslate\"><span class=\"pre\">set_dest_address(&quot;255.255.255.255&quot;,</span> <span class=\"pre\">4343)</span></code>. This option is disabled by default.</p>\n<p><strong>Note:</strong> Some Android devices might require the <code class=\"docutils literal notranslate\"><span class=\"pre\">CHANGE_WIFI_MULTICAST_STATE</span></code> permission and this option to be enabled to receive broadcast packets too.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-set-dest-address\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>set_dest_address</strong>(host: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, port: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>) <a class=\"reference internal\" href=\"#class-packetpeerudp-method-set-dest-address\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Sets the destination address and port for sending packets and variables. A hostname will be resolved using DNS if needed.</p>\n<p><strong>Note:</strong> <a class=\"reference internal\" href=\"#class-packetpeerudp-method-set-broadcast-enabled\"><span class=\"std std-ref\">set_broadcast_enabled()</span></a> must be enabled before sending packets to a broadcast address (e.g. <code class=\"docutils literal notranslate\"><span class=\"pre\">255.255.255.255</span></code>).</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-packetpeerudp-method-wait\"><a class=\"reference internal\" href=\"../class_&#64;globalscope/#enum-globalscope-error\"><span class=\"std std-ref\">Error</span></a> <strong>wait</strong>() <a class=\"reference internal\" href=\"#class-packetpeerudp-method-wait\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Waits for a packet to arrive on the bound address. See <a class=\"reference internal\" href=\"#class-packetpeerudp-method-bind\"><span class=\"std std-ref\">bind()</span></a>.</p>\n<p><strong>Note:</strong> <a class=\"reference internal\" href=\"#class-packetpeerudp-method-wait\"><span class=\"std std-ref\">wait()</span></a> can't be interrupted once it has been called. This can be worked around by allowing the other party to send a specific &quot;death pill&quot; packet like this:</p>\n<div class=\"sphinx-tabs docutils container\">\n<div class=\"docutils container\">\n<div class=\"docutils container\">\n<div class=\"docutils container\">\n<p>GDScript</p>\n</div>\n</div>\n<div class=\"docutils container\">\n</div>\n<div class=\"highlight-gdscript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">socket</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">PacketPeerUDP</span><span class=\"o\">.</span><span class=\"nf\">new</span><span class=\"p\">()</span>\n<span class=\"c1\"># Server</span>\n<span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"nf\">set_dest_address</span><span class=\"p\">(</span><span class=\"s2\">&quot;127.0.0.1&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">789</span><span class=\"p\">)</span>\n<span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"nf\">put_packet</span><span class=\"p\">(</span><span class=\"s2\">&quot;Time to stop&quot;</span><span class=\"o\">.</span><span class=\"nf\">to_ascii_buffer</span><span class=\"p\">())</span>\n\n<span class=\"c1\"># Client</span>\n<span class=\"k k-ControlFlow\">while</span><span class=\"w\"> </span><span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"nf\">wait</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"n\">OK</span><span class=\"p\">:</span>\n<span class=\"w\">    </span><span class=\"k\">var</span><span class=\"w\"> </span><span class=\"n\">data</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">socket</span><span class=\"o\">.</span><span class=\"nf\">get_packet</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"nf\">get_string_from_ascii</span><span class=\"p\">()</span>\n<span class=\"w\">    </span><span class=\"k k-ControlFlow\">if</span><span class=\"w\"> </span><span class=\"n\">data</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"s2\">&quot;Time to stop&quot;</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"k k-ControlFlow\">return</span>\n</pre></div>\n</div>\n</div>\n<div class=\"docutils container\">\n<div class=\"docutils container\">\n<div class=\"docutils container\">\n<p>C#</p>\n</div>\n</div>\n<div class=\"docutils container\">\n</div>\n<div class=\"highlight-csharp notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kt\">var</span><span class=\"w\"> </span><span class=\"n\">socket</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">PacketPeerUdp</span><span class=\"p\">();</span>\n<span class=\"c1\">// Server</span>\n<span class=\"n\">socket</span><span class=\"p\">.</span><span class=\"n\">SetDestAddress</span><span class=\"p\">(</span><span class=\"s\">&quot;127.0.0.1&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">789</span><span class=\"p\">);</span>\n<span class=\"n\">socket</span><span class=\"p\">.</span><span class=\"n\">PutPacket</span><span class=\"p\">(</span><span class=\"s\">&quot;Time to stop&quot;</span><span class=\"p\">.</span><span class=\"n\">ToAsciiBuffer</span><span class=\"p\">());</span>\n\n<span class=\"c1\">// Client</span>\n<span class=\"k\">while</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">socket</span><span class=\"p\">.</span><span class=\"n\">Wait</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"n\">OK</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kt\">string</span><span class=\"w\"> </span><span class=\"n\">data</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">socket</span><span class=\"p\">.</span><span class=\"n\">GetPacket</span><span class=\"p\">().</span><span class=\"n\">GetStringFromASCII</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"s\">&quot;Time to stop&quot;</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["classes/class_pckpacker", "PCKPacker", "N", "next"], ["classes/class_packetpeerstream", "PacketPeerStream", "P", "previous"]], "sourcename": "classes/class_packetpeerudp.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">PacketPeerUDP</a><ul>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#methods\">Methods</a></li>\n<li><a class=\"reference internal\" href=\"#method-descriptions\">Method Descriptions</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "classes/class_packetpeerudp", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "sphinx_version_info": [8, 1, 3, "final", 0], "READTHEDOCS": false}