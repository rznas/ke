{"parents": [{"link": "../", "title": "All classes"}], "prev": {"link": "../class_jnisingleton/", "title": "JNISingleton"}, "next": {"link": "../class_kinematiccollision2d/", "title": "KinematicCollision2D"}, "title": "JSONRPC", "meta": {"github_url": "hide"}, "body": "<section id=\"jsonrpc\">\n<span id=\"class-jsonrpc\"></span><h1>JSONRPC<a class=\"headerlink\" href=\"#jsonrpc\" title=\"Link to this heading\">\uf0c1</a></h1>\n<p><strong>Inherits:</strong> <a class=\"reference internal\" href=\"../class_object/#class-object\"><span class=\"std std-ref\">Object</span></a></p>\n<p>A helper to handle dictionaries which look like JSONRPC documents.</p>\n<section class=\"classref-introduction-group\" id=\"description\">\n<h2>Description<a class=\"headerlink\" href=\"#description\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p><a class=\"reference external\" href=\"https://www.jsonrpc.org/\">JSON-RPC</a> is a standard which wraps a method call in a <a class=\"reference internal\" href=\"../class_json/#class-json\"><span class=\"std std-ref\">JSON</span></a> object. The object has a particular structure and identifies which method is called, the parameters to that function, and carries an ID to keep track of responses. This class implements that standard on top of <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a>; you will have to convert between a <a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a> and <a class=\"reference internal\" href=\"../class_json/#class-json\"><span class=\"std std-ref\">JSON</span></a> with other functions.</p>\n</section>\n<section class=\"classref-reftable-group\" id=\"methods\">\n<h2>Methods<a class=\"headerlink\" href=\"#methods\" title=\"Link to this heading\">\uf0c1</a></h2>\n<table class=\"docutils align-default\">\n<tbody>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-jsonrpc-method-make-notification\"><span class=\"std std-ref\">make_notification</span></a>(method: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, params: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-jsonrpc-method-make-request\"><span class=\"std std-ref\">make_request</span></a>(method: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, params: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, id: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-jsonrpc-method-make-response\"><span class=\"std std-ref\">make_response</span></a>(result: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, id: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-jsonrpc-method-make-response-error\"><span class=\"std std-ref\">make_response_error</span></a>(code: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, message: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, id: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> = null) <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-jsonrpc-method-process-action\"><span class=\"std std-ref\">process_action</span></a>(action: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, recurse: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false)</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-jsonrpc-method-process-string\"><span class=\"std std-ref\">process_string</span></a>(action: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>)</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><abbr title=\"No return value.\">void</abbr></p></td>\n<td><p><a class=\"reference internal\" href=\"#class-jsonrpc-method-set-method\"><span class=\"std std-ref\">set_method</span></a>(name: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, callback: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a>)</p></td>\n</tr>\n</tbody>\n</table>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"enumerations\">\n<h2>Enumerations<a class=\"headerlink\" href=\"#enumerations\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-enumeration\" id=\"enum-jsonrpc-errorcode\">enum <strong>ErrorCode</strong>: <a class=\"reference internal\" href=\"#enum-jsonrpc-errorcode\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p class=\"classref-enumeration-constant\" id=\"class-jsonrpc-constant-parse-error\"><a class=\"reference internal\" href=\"#enum-jsonrpc-errorcode\"><span class=\"std std-ref\">ErrorCode</span></a> <strong>PARSE_ERROR</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">-32700</span></code></p>\n<p>The request could not be parsed as it was not valid by JSON standard (<a class=\"reference internal\" href=\"../class_json/#class-json-method-parse\"><span class=\"std std-ref\">JSON.parse()</span></a> failed).</p>\n<p class=\"classref-enumeration-constant\" id=\"class-jsonrpc-constant-invalid-request\"><a class=\"reference internal\" href=\"#enum-jsonrpc-errorcode\"><span class=\"std std-ref\">ErrorCode</span></a> <strong>INVALID_REQUEST</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">-32600</span></code></p>\n<p>A method call was requested but the request's format is not valid.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-jsonrpc-constant-method-not-found\"><a class=\"reference internal\" href=\"#enum-jsonrpc-errorcode\"><span class=\"std std-ref\">ErrorCode</span></a> <strong>METHOD_NOT_FOUND</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">-32601</span></code></p>\n<p>A method call was requested but no function of that name existed in the JSONRPC subclass.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-jsonrpc-constant-invalid-params\"><a class=\"reference internal\" href=\"#enum-jsonrpc-errorcode\"><span class=\"std std-ref\">ErrorCode</span></a> <strong>INVALID_PARAMS</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">-32602</span></code></p>\n<p>A method call was requested but the given method parameters are not valid. Not used by the built-in JSONRPC.</p>\n<p class=\"classref-enumeration-constant\" id=\"class-jsonrpc-constant-internal-error\"><a class=\"reference internal\" href=\"#enum-jsonrpc-errorcode\"><span class=\"std std-ref\">ErrorCode</span></a> <strong>INTERNAL_ERROR</strong> = <code class=\"docutils literal notranslate\"><span class=\"pre\">-32603</span></code></p>\n<p>An internal error occurred while processing the request. Not used by the built-in JSONRPC.</p>\n</section>\n<hr class=\"classref-section-separator docutils\" />\n<section class=\"classref-descriptions-group\" id=\"method-descriptions\">\n<h2>Method Descriptions<a class=\"headerlink\" href=\"#method-descriptions\" title=\"Link to this heading\">\uf0c1</a></h2>\n<p class=\"classref-method\" id=\"class-jsonrpc-method-make-notification\"><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a> <strong>make_notification</strong>(method: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, params: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>) <a class=\"reference internal\" href=\"#class-jsonrpc-method-make-notification\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns a dictionary in the form of a JSON-RPC notification. Notifications are one-shot messages which do not expect a response.</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">method</span></code>: Name of the method being called.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">params</span></code>: An array or dictionary of parameters being passed to the method.</p></li>\n</ul>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-jsonrpc-method-make-request\"><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a> <strong>make_request</strong>(method: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, params: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, id: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>) <a class=\"reference internal\" href=\"#class-jsonrpc-method-make-request\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Returns a dictionary in the form of a JSON-RPC request. Requests are sent to a server with the expectation of a response. The ID field is used for the server to specify which exact request it is responding to.</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">method</span></code>: Name of the method being called.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">params</span></code>: An array or dictionary of parameters being passed to the method.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">id</span></code>: Uniquely identifies this request. The server is expected to send a response with the same ID.</p></li>\n</ul>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-jsonrpc-method-make-response\"><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a> <strong>make_response</strong>(result: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, id: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>) <a class=\"reference internal\" href=\"#class-jsonrpc-method-make-response\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>When a server has received and processed a request, it is expected to send a response. If you did not want a response then you need to have sent a Notification instead.</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">result</span></code>: The return value of the function which was called.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">id</span></code>: The ID of the request this response is targeted to.</p></li>\n</ul>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-jsonrpc-method-make-response-error\"><a class=\"reference internal\" href=\"../class_dictionary/#class-dictionary\"><span class=\"std std-ref\">Dictionary</span></a> <strong>make_response_error</strong>(code: <a class=\"reference internal\" href=\"../class_int/#class-int\"><span class=\"std std-ref\">int</span></a>, message: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, id: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> = null) <abbr title=\"This method has no side effects. It doesn't modify any of the instance's member variables.\">const</abbr> <a class=\"reference internal\" href=\"#class-jsonrpc-method-make-response-error\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Creates a response which indicates a previous reply has failed in some way.</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">code</span></code>: The error code corresponding to what kind of error this is. See the <a class=\"reference internal\" href=\"#enum-jsonrpc-errorcode\"><span class=\"std std-ref\">ErrorCode</span></a> constants.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">message</span></code>: A custom message about this error.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">id</span></code>: The request this error is a response to.</p></li>\n</ul>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-jsonrpc-method-process-action\"><a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a> <strong>process_action</strong>(action: <a class=\"reference internal\" href=\"../class_variant/#class-variant\"><span class=\"std std-ref\">Variant</span></a>, recurse: <a class=\"reference internal\" href=\"../class_bool/#class-bool\"><span class=\"std std-ref\">bool</span></a> = false) <a class=\"reference internal\" href=\"#class-jsonrpc-method-process-action\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Given a Dictionary which takes the form of a JSON-RPC request: unpack the request and run it. Methods are resolved by looking at the field called &quot;method&quot; and looking for an equivalently named function in the JSONRPC object. If one is found that method is called.</p>\n<p>To add new supported methods extend the JSONRPC class and call <a class=\"reference internal\" href=\"#class-jsonrpc-method-process-action\"><span class=\"std std-ref\">process_action()</span></a> on your subclass.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">action</span></code>: The action to be run, as a Dictionary in the form of a JSON-RPC request or notification.</p>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-jsonrpc-method-process-string\"><a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a> <strong>process_string</strong>(action: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>) <a class=\"reference internal\" href=\"#class-jsonrpc-method-process-string\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<div class=\"contribute docutils container\">\n<p>There is currently no description for this method. Please help us by <a class=\"reference external\" href=\"https://contributing.godotengine.org/en/latest/documentation/class_reference.html\">contributing one</a>!</p>\n</div>\n<hr class=\"classref-item-separator docutils\" />\n<p class=\"classref-method\" id=\"class-jsonrpc-method-set-method\"><abbr title=\"No return value.\">void</abbr> <strong>set_method</strong>(name: <a class=\"reference internal\" href=\"../class_string/#class-string\"><span class=\"std std-ref\">String</span></a>, callback: <a class=\"reference internal\" href=\"../class_callable/#class-callable\"><span class=\"std std-ref\">Callable</span></a>) <a class=\"reference internal\" href=\"#class-jsonrpc-method-set-method\"><span class=\"std std-ref\">\ud83d\udd17</span></a></p>\n<p>Registers a callback for the given method name.</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code>: The name that clients can use to access the callback.</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">callback</span></code>: The callback which will handle the specified method.</p></li>\n</ul>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["classes/class_kinematiccollision2d", "KinematicCollision2D", "N", "next"], ["classes/class_jnisingleton", "JNISingleton", "P", "previous"]], "sourcename": "classes/class_jsonrpc.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">JSONRPC</a><ul>\n<li><a class=\"reference internal\" href=\"#description\">Description</a></li>\n<li><a class=\"reference internal\" href=\"#methods\">Methods</a></li>\n<li><a class=\"reference internal\" href=\"#enumerations\">Enumerations</a></li>\n<li><a class=\"reference internal\" href=\"#method-descriptions\">Method Descriptions</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "classes/class_jsonrpc", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "sphinx_version_info": [8, 1, 3, "final", 0], "READTHEDOCS": false}